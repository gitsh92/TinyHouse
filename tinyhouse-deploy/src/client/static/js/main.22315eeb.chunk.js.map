{"version":3,"sources":["lib/graphql/globalTypes.ts","reportWebVitals.ts","lib/graphql/mutations/LogIn/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/utils/index.ts","sections/AppHeader/components/MenuItems/index.tsx","sections/AppHeader/index.tsx","sections/AppHeader/assets/tinyhouse-logo.png","sections/Home/assets/toronto.jpeg","sections/Home/assets/dubai.jpeg","sections/Home/assets/los-angeles.jpeg","sections/Home/assets/london.jpeg","sections/Home/components/HomeHero/index.tsx","lib/components/ErrorBanner/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/tinyhouse-logo.png","lib/components/PageSkeleton/index.tsx","lib/components/ListingCard/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpeg","sections/Home/assets/map-background.jpeg","sections/Home/assets/san-fransisco.jpeg","sections/Home/assets/cancun.jpeg","lib/graphql/queries/AuthUrl/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/queries/Listings/index.ts","lib/hooks/useScrollToTop/index.ts","sections/Home/index.tsx","sections/Host/index.tsx","sections/Listing/components/ListingDetails/index.tsx","sections/Listing/components/ListingBookings/index.tsx","sections/Listing/components/ListingCreateBooking/index.tsx","sections/Listing/components/ListingCreateBookingModal/index.tsx","sections/Listing/index.tsx","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpeg","sections/Listings/index.tsx","sections/NotFound/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/index.tsx","sections/Login/index.tsx","sections/Login/assets/google_logo.png","sections/Stripe/index.tsx","index.tsx"],"names":["ListingType","ListingsFilter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","LOG_IN","gql","LOG_OUT","CONNECT_STRIPE","DISCONNECT_STRIPE","HOST_LISTING","CREATE_BOOKING","iconColor","formatListingPrice","price","round","formattedListingPrice","Math","displaySuccessNotification","message","description","notification","placement","style","marginTop","displayErrorMessage","error","Item","Menu","SubMenu","MenuItems","viewer","setViewer","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","onError","subMenuLogin","id","title","src","avatar","to","marginRight","onClick","type","mode","selectable","className","HomeOutlined","Header","Layout","Search","Input","AppHeader","useState","search","setSearch","navigate","useNavigate","location","useLocation","useEffect","pathname","pathnameSubStrings","split","includes","length","decodeURI","alt","placeholder","enterButton","value","onSearch","trim","onChange","e","target","Title","Typography","HomeHero","size","gutter","xs","md","cover","torontoImage","dubaiImage","losAngelesImage","londonImage","ErrorBanner","banner","closable","AppHeaderSkeleton","PageSkeleton","skeletonParagraph","active","paragraph","rows","Text","ListingCard","listing","image","address","numOfGuests","hoverable","backgroundImage","level","strong","ellipsis","color","HomeListings","listings","grid","sm","lg","dataSource","renderItem","HomeListingsSkeleton","loading","AUTH_URL","USER","LISTING","LISTINGS","useScrollToTop","useLayoutEffect","window","scrollTo","Content","Paragraph","Home","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","fetchPolicy","mapBackground","trimmedValue","result","sanFransiscoImage","cancunImage","Form","Host","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","hostListing","hasWallet","layout","onFinish","values","fullAddress","city","state","postalCode","input","onFinishFailed","label","name","rules","required","Group","Button","APARTMENT","BankOutlined","HOUSE","min","extra","maxLength","TextArea","listType","showUploadList","action","beforeUpload","beforeImageUpload","info","file","status","originFileObj","getBase64Value","LoadingOutlined","PlusOutlined","htmlType","fileIsValidImage","fileIsValidSize","img","callback","reader","FileReader","readAsDataURL","onload","ListingDetails","host","EnvironmentOutlined","expandable","ListingBookings","listingBookings","bookingsPage","setBookingsPage","total","listingBookingsList","undefined","locale","emptyText","pagination","current","defaultPageSize","hideOnSinglePage","showLessItems","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","ListingCreateBooking","bookingsIndex","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","dateIsBeforeEndOfDay","isBefore","moment","endOf","dateIsMoreThanThreeMonthsAhead","isAfter","add","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","format","showToday","disabled","dateValue","onOpenChange","renderExtraFooter","selectedCheckOutDate","dateCursor","verifyAndSetCheckOutDate","dateRender","isSame","mark","WrappedListingCreateBookingModal","injectStripe","modalVisible","clearBookingData","handleListingRefetch","stripe","createBooking","daysBooked","diff","listingPrice","handleCreateBooking","a","createToken","stripeToken","token","source","visible","centered","footer","onCancel","KeyOutlined","hidePostalCode","Listing","useParams","refetch","bookings","listingDetailsElement","listingBookingsElement","listingCreateBookingElement","listingCreateBookingModalElement","justify","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","setPage","ListingsSkeleton","Listings","params","locationRef","useRef","skip","listingsRegion","region","listingsSectionElement","offsetTop","listingsRegionElement","NotFound","STRIPE_AUTH_URL","process","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetails","income","href","rel","additionalDetailsSection","contact","UserBookings","userBookings","userBookingsList","position","userBooking","UserListings","userListings","listingsPage","setListingsPage","userListingsList","userListing","User","stripeErrorBanner","URL","searchParams","get","userProfileElement","userListingsElement","userBookingsElement","Login","client","useApolloClient","logIn","setItem","logInData","logInLoading","logInError","logInRef","code","handleAuthorize","query","authUrl","tip","viewerId","logInErrorBannerElement","role","aria-label","Stripe","connectStripe","connectStripeRef","ApolloClient","uri","request","operation","getItem","setContext","headers","initialViewer","didRequest","App","apiKey","path","element","ReactDOM","render","document","getElementById"],"mappings":"yKASYA,EAKAC,E,mGCAGC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,2HCPDQ,EAASC,YAAH,oLCANC,EAAUD,YAAH,mJCAPE,EAAiBF,YAAH,sJCAdG,EAAoBH,YAAH,gHCAjBI,EAAeJ,YAAH,yICAZK,EAAiBL,YAAH,+I,kBCAdM,EAAY,UAEZC,EAAqB,SAACC,GAAiC,IAAlBC,IAAiB,yDAC3DC,EAAwBD,EAAQE,KAAKF,MAAMD,EAAQ,KAAOA,EAAQ,IACxE,MAAM,IAAN,OAAWE,IAGAE,EAA6B,SACxCC,EACAC,GAEA,OAAOC,IAAY,QAAY,CAC7BF,UACAC,cACAE,UAAW,UACXC,MAAO,CACLC,UAAW,OAKJC,EAAsB,SAACC,GAClC,OAAOP,IAAQO,MAAMA,I,OCJfC,EAAkBC,IAAlBD,KAAME,EAAYD,IAAZC,QAEDC,EAAuB,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAAgB,EAC5CC,YAAwB1B,EAAS,CAChD2B,YAAa,SAAAC,GACPA,GAAQA,EAAKC,SACfJ,EAAUG,EAAKC,QACfC,eAAeC,WAAW,SAC1BpB,EAA2B,qCAG/BqB,QAAS,SAAAJ,GACPV,EACE,qEAVCW,EADsD,oBAoBvDI,EAAeT,EAAOU,GAC1B,eAACZ,EAAD,CAASa,MAAO,cAAC,IAAD,CAAQC,IAAKZ,EAAOa,SAApC,UACE,cAACjB,EAAD,UACE,eAAC,IAAD,CAAMkB,GAAE,gBAAWd,EAAOU,IAA1B,UACE,cAAC,IAAD,CAAclB,MAAO,CAAEuB,YAAa,KADtC,cADQ,SAMV,cAACnB,EAAD,UACE,sBAAKoB,QAbU,WACnBX,KAYI,UACE,cAAC,IAAD,CAAgBb,MAAO,CAAEuB,YAAa,KADxC,cADQ,aAPyCf,EAAOU,IAe5D,cAACd,EAAD,UACE,cAAC,IAAD,CAAMkB,GAAG,SAAT,SACE,cAAC,IAAD,CAAQG,KAAK,UAAb,wBAFM,UAOZ,OACE,eAAC,IAAD,CAAMC,KAAK,aAAaC,YAAY,EAAOC,UAAU,OAArD,UACE,cAACxB,EAAD,UACE,eAAC,IAAD,CAAMkB,GAAG,QAAT,UACE,cAACO,EAAA,EAAD,CAAc7B,MAAO,CAAEuB,YAAa,KADtC,WADQ,SAMV,cAACnB,EAAD,UAAOa,QC5DLa,GAAWC,IAAXD,OACAE,GAAWC,IAAXD,OAEKE,GAAuB,SAAC,GAA2B,IAAzB1B,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAAgB,EACjC0B,mBAAS,IADwB,mBACtDC,EADsD,KAC9CC,EAD8C,KAEvDC,EAAWC,cACXC,EAAWC,cAEjBC,qBAAU,WAAO,IACPC,EAAaH,EAAbG,SACFC,EAAqBD,EAASE,MAAM,KAErCF,EAASG,SAAS,aAKnBH,EAASG,SAAS,cAA8C,IAA9BF,EAAmBG,QACvDV,EAAUW,UAAUJ,EAAmB,KALvCP,EAAU,MAOX,CAACG,IAYJ,OACE,eAACV,GAAD,CAAQF,UAAU,aAAlB,UACE,sBAAKA,UAAU,kCAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,cAAC,IAAD,CAAMN,GAAG,IAAT,SACE,qBAAKF,IClDF,yjCDkDa6B,IAAI,iBAGxB,qBAAKrB,UAAU,2BAAf,SACE,cAACI,GAAD,CACEkB,YAAY,yBACZC,aAAW,EACXC,MAAOhB,EACPiB,SAvBO,SAACD,GACKA,EAAME,OAGzBhB,EAAS,aAAD,OAAcc,IAEtBlD,EAAoB,iCAkBdqD,SAAU,SAAAC,GAAC,OAAInB,EAAUmB,EAAEC,OAAOL,eAIxC,qBAAKxB,UAAU,2BAAf,SACE,cAAC,EAAD,CAAWpB,OAAQA,EAAQC,UAAWA,U,uCEhE/B,OAA0B,qCCA1B,OAA0B,mCCA1B,OAA0B,yCCA1B,OAA0B,oCCSjCiD,GAAUC,KAAVD,MACA1B,GAAWC,IAAXD,OAMK4B,GAAsB,SAAC,GAAkB,IAAhBP,EAAe,EAAfA,SACpC,OACE,sBAAKzB,UAAU,YAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC8B,GAAD,CAAO9B,UAAU,mBAAjB,iDAGA,cAAC,GAAD,CACEsB,YAAY,yBACZW,KAAK,QACLV,aAAW,EACXvB,UAAU,0BACVyB,SAAUA,OAGd,eAAC,KAAD,CAAKS,OAAQ,GAAIlC,UAAU,mBAA3B,UACE,cAAC,KAAD,CAAKmC,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAM1C,GAAG,oBAAT,SACE,cAAC,KAAD,CAAM2C,MAAO,qBAAK7C,IAAK8C,GAAcjB,IAAI,YAAzC,yBAKJ,cAAC,KAAD,CAAKc,GAAI,GAAIC,GAAI,EAAjB,SACE,cAAC,IAAD,CAAM1C,GAAG,kBAAT,SACE,cAAC,KAAD,CAAM2C,MAAO,qBAAK7C,IAAK+C,GAAYlB,IAAI,UAAvC,uBAGJ,cAAC,KAAD,CAAKc,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAM1C,GAAG,0BAAT,SACE,cAAC,KAAD,CAAM2C,MAAO,qBAAK7C,IAAKgD,GAAiBnB,IAAI,gBAA5C,6BAKJ,cAAC,KAAD,CAAKc,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,IAAD,CAAM1C,GAAG,mBAAT,SACE,cAAC,KAAD,CAAM2C,MAAO,qBAAK7C,IAAKiD,GAAapB,IAAI,WAAxC,+B,oBC7CCqB,GAAyB,SAAC,GAGhC,IAAD,IAFJ1E,eAEI,MAFM,0BAEN,MADJC,mBACI,MADU,2DACV,EACJ,OACE,cAAC,KAAD,CACE0E,QAAM,EACNC,UAAQ,EACR5E,QAASA,EACTC,YAAaA,EACb4B,KAAK,QACLG,UAAU,kBCfRE,GAAWC,IAAXD,OAEK2C,GAAoB,WAC/B,OACE,cAAC,GAAD,CAAQ7C,UAAU,aAAlB,SACE,qBAAKA,UAAU,kCAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKR,ICXA,yjCDWW6B,IAAI,oB,UERjByB,GAAe,WAC1B,IAAMC,EACJ,cAAC,KAAD,CACEC,QAAM,EACNC,UAAW,CAAEC,KAAM,GACnBlD,UAAU,6BAId,OACE,eAAC,WAAD,WACG+C,EACAA,EACAA,MCCCI,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAEDsB,GAAyB,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC/B/D,EAAkD+D,EAAlD/D,GAAIC,EAA8C8D,EAA9C9D,MAAO+D,EAAuCD,EAAvCC,MAAOC,EAAgCF,EAAhCE,QAAS5F,EAAuB0F,EAAvB1F,MAAO6F,EAAgBH,EAAhBG,YAE1C,OACE,cAAC,IAAD,CAAM9D,GAAE,mBAAcJ,GAAtB,SACE,cAAC,KAAD,CACEmE,WAAS,EACTpB,MACE,qBACErC,UAAU,0BACV5B,MAAO,CAAEsF,gBAAgB,OAAD,OAASJ,EAAT,QAL9B,SASE,sBAAKtD,UAAU,wBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,eAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,sBAA3B,UACGtC,EAAmBC,GACpB,2CAEF,cAACwF,GAAD,CAAMS,QAAM,EAACC,UAAQ,EAAC7D,UAAU,sBAAhC,SACGT,IAEH,cAAC4D,GAAD,CAAMU,UAAQ,EAAC7D,UAAU,wBAAzB,SACGuD,OAGL,sBAAKvD,UAAU,4DAAf,UACE,cAAC,IAAD,CAAc5B,MAAO,CAAE0F,MAAOrG,EAAWkC,YAAa,KACtD,eAACwD,GAAD,WACGK,EADH,IACiC,IAAhBA,EAAoB,QAAU,uBCvCnD1B,GAAUC,KAAVD,MAEKiC,GAA0B,SAAC,GAAyB,IAAvBxE,EAAsB,EAAtBA,MAAOyE,EAAe,EAAfA,SAC/C,OACE,sBAAKhE,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,uBAA3B,SACGT,IAEH,cAAC,KAAD,CACE0E,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAAYJ,EACZK,WAAY,SAAAhB,GAAO,OACjB,cAAC,KAAK7E,KAAN,UACE,cAAC,GAAD,CAAa6E,QAASA,aCvBrBiB,GAAuB,WAGlC,OACE,sBAAKtE,UAAU,yBAAf,UACE,cAAC,KAAD,CAAUiD,UAAW,CAAEC,KAAM,KAC7B,cAAC,KAAD,CACEe,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAZY,CAAC,GAAI,GAAI,GAAI,IAazBC,WAAY,SAAAhB,GAAO,OACjB,cAAC,KAAK7E,KAAN,UACE,cAAC,KAAD,CACE6D,MACE,qBACEjE,MAAO,CAAEsF,gBAAgB,OAAD,OCxB3B,8vRDwB2B,MACxB1D,UAAU,2CAGduE,SAAO,c,SvBnBThI,K,sBAAAA,E,eAAAA,M,cAKAC,K,sCAAAA,E,uCAAAA,M,KyBdG,I,YAAA,OAA0B,4CCA1B,OAA0B,2CCA1B,OAA0B,oCCE5BgI,GAAWrH,YAAH,mECARsH,GAAOtH,YAAH,kvBCAJuH,GAAUvH,YAAH,gmBCAPwH,GAAWxH,YAAH,iYCARyH,GAAiB,WAC5BC,2BAAgB,WACdC,OAAOC,SAAS,EAAG,KAClB,KCcGC,GAAY7E,IAAZ6E,QACAC,GAAqBlD,KAArBkD,UAAWnD,GAAUC,KAAVD,MAKNoD,GAAO,WAAO,IAAD,EACEC,YACxBR,GACA,CACES,UAAW,CACTC,OAAQ7I,EAAe8I,kBACvBC,MATW,EAUXC,KATY,GAWdC,YAAa,sBARTlB,EADgB,EAChBA,QAASvF,EADO,EACPA,KAYjB4F,KAEA,IAAMlE,EAAWC,cA4BjB,OACE,eAACqE,GAAD,CACEhF,UAAU,OACV5B,MAAO,CAAEsF,gBAAgB,OAAD,OAASgC,GAAT,MAF1B,UAIE,cAAC,GAAD,CAAUjE,SA/BG,SAACD,GAChB,IAAMmE,EAAenE,EAAME,OACvBiE,EACFjF,EAAS,aAAD,OAAciF,IAEtBrH,EAAoB,mCA2BpB,sBAAK0B,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,0BAA3B,8CAGA,cAACiF,GAAD,yFAIA,cAAC,IAAD,CACEvF,GAAG,4BACHM,UAAU,8DAFZ,sDA9BAuE,EACK,cAAC,GAAD,IAGLvF,EAEA,cAAC,GAAD,CACEO,MAAM,mBACNyE,SAAUhF,EAAKgF,SAAS4B,SAKvB,KAyBL,sBAAK5F,UAAU,iBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,uBAA3B,kCAGA,eAAC,KAAD,CAAKkC,OAAQ,GAAb,UACE,cAAC,KAAD,CAAKC,GAAI,GAAI+B,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMxE,GAAG,4BAAT,SACE,qBAAKM,UAAU,2BAAf,SACE,qBACER,IAAKqG,GACLxE,IAAI,gBACJrB,UAAU,6BAKlB,cAAC,KAAD,CAAKmC,GAAI,GAAI+B,GAAI,GAAjB,SACE,cAAC,IAAD,CAAMxE,GAAG,sBAAT,SACE,qBAAKM,UAAU,2BAAf,SACE,qBACER,IAAKsG,GACLzE,IAAI,YACJrB,UAAU,uC,8EC1EpBgF,GAAY7E,IAAZ6E,QACA7B,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MACNtD,GAASuH,KAATvH,KAEKwH,GAAkB,SAAC,GAAgB,IAAdpH,EAAa,EAAbA,OAAa,EACL2B,oBAAS,GADJ,mBACtC0F,EADsC,KACxBC,EADwB,OAEG3F,mBAAwB,MAF3B,mBAEtC4F,EAFsC,KAEpBC,EAFoB,OAIJtH,YAGvCvB,EAAc,CACdwB,YAAa,WACXhB,EAA2B,8CAE7BqB,QAAS,WACPd,EACE,6EAbuC,mBAItC+H,EAJsC,YAIvB9B,EAJuB,EAIvBA,QAASvF,EAJc,EAIdA,KAc/B4F,KA0CA,OAAKhG,EAAOU,IAAOV,EAAO0H,UAmBtB/B,EAEA,cAAC,GAAD,CAASvE,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,mBAA3B,0BAGA,cAAC,GAAD,CAAMH,KAAK,YAAX,mDAMJb,GAAQA,EAAKqH,YACR,cAAC,IAAD,CAAU3G,GAAE,mBAAcV,EAAKqH,YAAY/G,MAIlD,cAAC,GAAD,CAASU,UAAU,eAAnB,SACE,eAAC,KAAD,CACEuG,OAAO,WACPC,SAhEoB,SAACC,GACzB,IAAMC,EAAW,UAAMD,EAAOlD,QAAb,aAAyBkD,EAAOE,KAAhC,aAAyCF,EAAOG,MAAhD,aAA0DH,EAAOI,YAE5EC,EAAK,6BACNL,GADM,IAETlD,QAASmD,EACTpD,MAAO6C,EACPxI,MAAsB,IAAf8I,EAAO9I,eAETmJ,EAAMH,YACNG,EAAMF,aACNE,EAAMD,WAEbR,EAAY,CACVjB,UAAW,CACT0B,YAkDAC,eA7C2B,WAC/BzI,EAAoB,8CAyClB,UAKE,sBAAK0B,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,mBAA3B,uDAGA,cAAC,GAAD,CAAMH,KAAK,YAAX,sGAMF,cAAC,GAAD,CACEmH,MAAM,YACNC,KAAK,OACLC,MAAO,CAAC,CAAEC,UAAU,EAAMnJ,QAAS,+BAHrC,SAKE,eAAC,KAAMoJ,MAAP,WACE,eAAC,KAAMC,OAAP,CAAc7F,MAAOjF,EAAY+K,UAAjC,UACE,cAACC,GAAA,EAAD,CAAcnJ,MAAO,CAAE0F,MAAOrG,KAAgB,IAC9C,gDAEF,eAAC,KAAM4J,OAAP,CAAc7F,MAAOjF,EAAYiL,MAAjC,UACE,cAACvH,EAAA,EAAD,CAAc7B,MAAO,CAAE0F,MAAOrG,KADhC,IACgD,iDAKpD,cAAC,GAAD,CACEuJ,MAAM,kBACNC,KAAK,cACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,2CANf,SAUE,cAAC,KAAD,CAAayJ,IAAK,EAAGnG,YAAY,QAGnC,cAAC,GAAD,CACE0F,MAAM,QACNU,MAAM,4BACNT,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,2CAPf,SAWE,cAAC,IAAD,CACE2J,UAAW,GACXrG,YAAY,+CAIhB,cAAC,GAAD,CACE0F,MAAM,yBACNU,MAAM,6BACNT,KAAK,cACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,iDAPf,SAWE,cAAC,IAAM4J,SAAP,CACE1E,KAAM,EACNyE,UAAW,IACXrG,YAAY,wGAIhB,cAAC,GAAD,CACE0F,MAAM,UACNC,KAAK,UACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,8CANf,SAUE,cAAC,IAAD,CAAOsD,YAAY,+BAGrB,cAAC,GAAD,CACE0F,MAAM,YACNC,KAAK,OACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,sDANf,SAUE,cAAC,IAAD,CAAOsD,YAAY,kBAGrB,cAAC,GAAD,CACE0F,MAAM,iBACNC,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,2CANf,SAUE,cAAC,IAAD,CAAOsD,YAAY,iBAGrB,cAAC,GAAD,CACE0F,MAAM,kBACNC,KAAK,aACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,8CANf,SAUE,cAAC,IAAD,CAAOsD,YAAY,gDAGrB,cAAC,GAAD,CACE0F,MAAM,QACNU,MAAM,0DACNT,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,8CAPf,SAWE,qBAAKgC,UAAU,0BAAf,SACE,cAAC,KAAD,CACEiH,KAAK,QACLY,SAAS,eACTC,gBAAgB,EAEhBC,OAAO,cACPC,aAAcC,GACdtG,SApOc,SAACuG,GAA6B,IAC9CC,EAASD,EAATC,KAEY,cAAhBA,EAAKC,OAKW,SAAhBD,EAAKC,QAAqBD,EAAKE,eACjCC,GAAeH,EAAKE,eAAe,SAAAlC,GACjCC,EAAoBD,GACpBD,GAAgB,MAPlBA,GAAgB,IAyNV,SASGC,EACC,qBAAK3G,IAAK2G,EAAkB9E,IAAI,YAEhC,gCACG4E,EAAe,cAACsC,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,IACtC,qBAAKxI,UAAU,kBAAf,6BAOV,cAAC,GAAD,CACEgH,MAAM,QACNU,MAAM,wBACNT,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACVnJ,QAAS,2CAPf,SAWE,cAAC,KAAD,CAAayJ,IAAK,EAAGnG,YAAY,UAGnC,cAAC,GAAD,UACE,cAAC,IAAD,CAAQzB,KAAK,UAAU4I,SAAS,SAAhC,2BAvNJ,cAAC,GAAD,CAASzI,UAAU,eAAnB,SACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,mBAA3B,sFAIA,eAAC,GAAD,CAAMH,KAAK,YAAX,+IAEkE,IAChE,cAAC,IAAD,CAAMH,GAAG,SAAT,oBAHF,wDA0NJuI,GAAoB,SAACE,GACzB,IAAMO,EACU,eAAdP,EAAKtI,MAAuC,cAAdsI,EAAKtI,KAE/B8I,EAAkBR,EAAKlG,KAAO,KAAO,KAAO,EAElD,OAAKyG,EAKAC,EAOED,GAAoBC,GANzBrK,EACE,uEAEK,IARPA,EAAoB,uDACb,IAaLgK,GAAiB,SACrBM,EACAC,GAEA,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,WACdJ,EAASC,EAAOlD,U,8BC7VZX,GAAqBlD,KAArBkD,UAAWnD,GAAUC,KAAVD,MAMNoH,GAA4B,SAAC,GAAiB,IAAf7F,EAAc,EAAdA,QAClC9D,EACN8D,EADM9D,MAAOtB,EACboF,EADapF,YAAaqF,EAC1BD,EAD0BC,MAAOzD,EACjCwD,EADiCxD,KAAM0D,EACvCF,EADuCE,QAASoD,EAChDtD,EADgDsD,KAAMnD,EACtDH,EADsDG,YAAa2F,EACnE9F,EADmE8F,KAGrE,OACE,sBAAKnJ,UAAU,kBAAf,UACE,qBACE5B,MAAO,CAAEsF,gBAAgB,OAAD,OAASJ,EAAT,MACxBtD,UAAU,2BAGZ,sBAAKA,UAAU,+BAAf,UACE,eAAC,GAAD,CACEH,KAAK,YACLgE,UAAQ,EACR7D,UAAU,gCAHZ,UAKE,eAAC,IAAD,CAAMN,GAAE,oBAAeiH,GAAvB,UACE,cAACyC,GAAA,EAAD,CAAqBhL,MAAO,CAAE0F,MAAOrG,KADvC,IACwDkJ,KAExD,cAAC,KAAD,CAAS9G,KAAK,aACb0D,KAEH,cAAC,GAAD,CAAOI,MAAO,EAAG3D,UAAU,yBAA3B,SACGT,OAIL,cAAC,KAAD,IAEA,qBAAKS,UAAU,2BAAf,SACE,eAAC,IAAD,CAAMN,GAAE,gBAAWyJ,EAAK7J,IAAxB,UACE,cAAC,IAAD,CAAQE,IAAK2J,EAAK1J,OAAQwC,KAAM,KAChC,cAAC,GAAD,CAAO0B,MAAO,EAAG3D,UAAU,6BAA3B,SACGmJ,EAAKlC,YAKZ,cAAC,KAAD,IAEA,sBAAKjH,UAAU,2BAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAd,8BACA,sBAAK3D,UAAU,+BAAf,UACE,cAAC,KAAD,CAAK8D,MAAM,UAAX,SAAsBjE,IACtB,cAAC,KAAD,CAAKiE,MAAM,UAAX,SAAsBN,OAExB,cAAC,GAAD,CAAWK,SAAU,CAAEX,KAAM,EAAGmG,YAAY,GAA5C,SACGpL,WCjDHkF,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAEDwH,GAA6B,SAAC,GAKpC,IAJLC,EAII,EAJJA,gBACAC,EAGI,EAHJA,aACAjE,EAEI,EAFJA,MACAkE,EACI,EADJA,gBAEMC,EAAQH,EAAkBA,EAAgBG,MAAQ,KAClD9D,EAAS2D,EAAkBA,EAAgB3D,OAAS,KAEpD+D,EAAsBJ,EAC1B,cAAC,KAAD,CACEtF,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAAYwB,QAAkBgE,EAC9BC,OAAQ,CAAEC,UAAW,mCACrBC,WAAY,CACVC,QAASR,EACTE,MAAOA,QAAgBE,EACvBK,gBAAiB1E,EACjB2E,kBAAkB,EAClBC,eAAe,EACfxI,SAAU,SAAC6D,GAAD,OAAkBiE,EAAgBjE,KAE9CnB,WAAY,SAAA+F,GACV,IAAMC,EACJ,sBAAKrK,UAAU,4BAAf,UACE,6CACY,cAAC,GAAD,CAAM4D,QAAM,EAAZ,SAAcwG,EAAeE,aAEzC,8CACa,cAAC,GAAD,CAAM1G,QAAM,EAAZ,SAAcwG,EAAeG,iBAI9C,OACE,eAAC,KAAK/L,KAAN,CAAWwB,UAAU,yBAArB,UACGqK,EACD,cAAC,IAAD,CAAM3K,GAAE,gBAAW0K,EAAeI,OAAOlL,IAAzC,SACE,cAAC,IAAD,CACEE,IAAK4K,EAAeI,OAAO/K,OAC3BwC,KAAM,GACNwI,MAAM,mBAOhB,KAcJ,OAZ+Bd,EAC7B,sBAAK3J,UAAU,mBAAf,UACE,cAAC,KAAD,IACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,0BAA3B,wBAID2J,KAED,M,uCCtEE1E,GAA2BlD,KAA3BkD,UAAWnD,GAAgBC,KAAhBD,MAAOqB,GAASpB,KAAToB,KAcbuH,GAAkC,SAAC,GAUzC,IATL9L,EASI,EATJA,OACAuK,EAQI,EARJA,KACAxL,EAOI,EAPJA,MACAgN,EAMI,EANJA,cACAC,EAKI,EALJA,YACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,gBAEMC,EAAmCC,KAAKC,MAAMR,GAc9CS,EAAe,SAACC,GACpB,IAAKA,EACH,OAAO,EAGT,IAAMC,EAAuBD,EAAYE,SAASC,OAASC,MAAM,QAC3DC,EAAiCF,KAAOH,GAAaM,QACzDH,OAASC,MAAM,OAAOG,IAAI,GAAI,SAGhC,OACEN,GACAI,GAxBiB,SAACL,GACpB,IAAMQ,EAAOL,KAAOH,GAAaQ,OAC3BC,EAAQN,KAAOH,GAAaS,QAC5BC,EAAMP,KAAOH,GAAaW,OAEhC,SAAIf,EAAkBY,KAASZ,EAAkBY,GAAMC,KAC9CG,QAAQhB,EAAkBY,GAAMC,GAAOC,IAmB9CG,CAAab,IAmCXc,EAAevN,EAAOU,KAAO6J,EAAK7J,GAClC8M,GAAwBxN,EAAOU,IAAM6M,IAAiBhD,EAAK7C,UAC3D+F,EAAwBD,IAAyBxB,EACjD0B,EAAiBD,IAA0BzB,IAAgBC,EAE7D0B,EAAgB,2BAUpB,OATK3N,EAAOU,GAED6M,EACTI,EAAgB,mCACNpD,EAAK7C,YACfiG,EACE,oFALFA,EAAgB,8CAShB,qBAAKvM,UAAU,kBAAf,SACE,eAAC,KAAD,CAAMA,UAAU,wBAAhB,UACE,gCACE,cAAC,GAAD,UACE,eAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,8BAA3B,UACGtC,EAAmBC,GACpB,6CAGJ,cAAC,KAAD,IACA,sBAAKqC,UAAU,oCAAf,UACE,cAAC,GAAD,CAAW4D,QAAM,EAAjB,sBACA,cAAC,KAAD,CACEpC,MAAOoJ,QAA4BhB,EACnC4C,OAAO,aACPC,WAAW,EACXC,SAAUN,EACVhB,aAAcA,EACdzJ,SAAU,SAAAgL,GAAS,OAAI7B,EAAe6B,IACtCC,aAAc,kBAAM7B,EAAgB,OACpC8B,kBAAmB,WACjB,OACE,8BACE,cAAC,GAAD,CAAMhN,KAAK,YAAYG,UAAU,2BAAjC,4EAQV,sBAAKA,UAAU,oCAAf,UACE,cAAC,GAAD,CAAW4D,QAAM,EAAjB,uBACA,cAAC,KAAD,CACEpC,MAAOqJ,QAA8BjB,EACrC4C,OAAO,aACPC,WAAW,EACXC,SAAUL,EACVjB,aAAcA,EACdzJ,SAAU,SAAAgL,GAAS,OAtFE,SAACG,GAChC,GAAIlC,GAAekC,EAAsB,CACvC,GAAItB,KAAOsB,GAAsBvB,SAASX,EAAa,QACrD,OAAOtM,EACL,qEAKJ,IADA,IAAIyO,EAAanC,EACVY,KAAOuB,GAAYxB,SAASuB,EAAsB,SAAS,CAChEC,EAAavB,KAAOuB,GAAYnB,IAAI,EAAG,QAEvC,IAAMC,EAAOL,KAAOuB,GAAYlB,OAC1BC,EAAQN,KAAOuB,GAAYjB,QAC3BC,EAAMP,KAAOuB,GAAYf,OAE/B,GACEf,EAAkBY,IAClBZ,EAAkBY,GAAMC,IACxBb,EAAkBY,GAAMC,GAAOC,GAE/B,OAAOzN,EACL,uFAMRyM,EAAgB+B,GA0DiBE,CAAyBL,IAChDM,WAAY,SAAAjD,GACV,OACEwB,KAAOxB,GAASkD,OACdtC,QAA4BhB,EAC5B,OAIA,cAAC,KAAD,CAASrK,MAAM,gBAAf,SACE,qBAAKS,UAAU,gDAAf,SACGgK,EAAQgC,WAMb,qBAAKhM,UAAU,oBAAf,SAAoCgK,EAAQgC,UAIlDa,kBAAmB,WACjB,OACE,8BACE,cAAC,GAAD,CAAMhN,KAAK,YAAYG,UAAU,2BAAjC,6DASZ,cAAC,KAAD,IACA,cAAC,IAAD,CACEiC,KAAK,QACLpC,KAAK,UACLG,UAAU,4BACV0M,SAAUJ,EACV1M,QAAS,kBAAMoL,GAAgB,IALjC,8BASA,cAAC,GAAD,CAAMnL,KAAK,YAAYsN,MAAI,EAA3B,SACGZ,U,8BClKHtH,GAA2BlD,KAA3BkD,UAAWnD,GAAgBC,KAAhBD,MAAOqB,GAASpB,KAAToB,KA6HbiK,GAAmCC,yBAzH5C,SAAC,GAUE,IATL/N,EASI,EATJA,GACA3B,EAQI,EARJA,MACAiN,EAOI,EAPJA,YACAC,EAMI,EANJA,aACAyC,EAKI,EALJA,aACAtC,EAII,EAJJA,gBACAuC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,qBACAC,EACI,EADJA,OACI,EACiC3O,YAGnCtB,EAAgB,CAChBuB,YAAa,WACXwO,IACAxP,EACE,0CACA,0DAEFyP,KAEFpO,QAAS,WACPd,EACE,uFAfF,mBACGoP,EADH,KACoBnJ,EADpB,KACoBA,QAmBlBoJ,EAAa9C,EAAa+C,KAAKhD,EAAa,QAAU,EACtDiD,EAAelQ,EAAQgQ,EAEvBG,EAAmB,uCAAG,gCAAAC,EAAA,yDACrBN,EADqB,yCAEjBnP,EACL,mDAHsB,uBAOkBmP,EAAOO,cAPzB,gBAOXC,EAPW,EAOlBC,MAAoB3P,EAPF,EAOEA,MACxB0P,EACFP,EAAc,CACZtI,UAAW,CACT0B,MAAO,CACLxH,KACA6O,OAAQF,EAAY3O,GACpBgL,QAASkB,KAAOZ,GAAa4B,OAAO,cACpCjC,SAAUiB,KAAOX,GAAc2B,OAAO,kBAK5ClO,EACEC,GAASA,EAAMP,QACXO,EAAMP,QACN,uEAvBkB,2CAAH,qDA4BzB,OACE,cAAC,KAAD,CACEoQ,QAASd,EACTe,UAAQ,EACRC,OAAQ,KACRC,SAAU,kBAAMvD,GAAgB,IAJlC,SAME,sBAAKhL,UAAU,wBAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,cAAC,GAAD,CAAOA,UAAU,qCAAjB,SACE,cAACwO,GAAA,EAAD,MAEF,cAAC,GAAD,CAAO7K,MAAO,EAAG3D,UAAU,qCAA3B,4BAGA,eAAC,GAAD,sFAEU,IACR,cAAC,GAAD,CAAM4D,QAAM,EAACuJ,MAAI,EAAjB,SACG3B,KAAOZ,GAAa4B,OAAO,kBACtB,IALV,MAMM,IACJ,cAAC,GAAD,CAAM5I,QAAM,EAACuJ,MAAI,EAAjB,SACG3B,KAAOX,GAAc2B,OAAO,kBARjC,qBAaF,cAAC,KAAD,IACA,sBAAKxM,UAAU,wCAAf,UACE,eAAC,GAAD,WACGtC,EAAmBC,GAAO,GAD7B,MACwCgQ,EAAY,IAClC,IAAfA,EAAmB,MAAQ,OAF9B,KAEwC,IACtC,cAAC,GAAD,CAAM/J,QAAM,EAAZ,SAAclG,EAAmBmQ,GAAc,QAEjD,eAAC,GAAD,CAAW7N,UAAU,8CAArB,qBACU,cAAC,GAAD,CAAMmN,MAAI,EAAV,SAAYzP,EAAmBmQ,GAAc,WAGzD,cAAC,KAAD,IACA,sBAAK7N,UAAU,+CAAf,UACE,cAAC,eAAD,CACEyO,gBAAc,EACdzO,UAAU,uCAEZ,cAAC,IAAD,CACEiC,KAAK,QACLpC,KAAK,UACL0E,QAASA,EACTvE,UAAU,6BACVJ,QAASkO,EALX,6BCtHF9I,GAAY7E,IAAZ6E,QAIK0J,GAAqB,SAAC,GAAgB,IAAD,IAAb9P,EAAa,EAAbA,OAAa,EACR2B,mBAAS,GADD,mBACzCiJ,EADyC,KAC3BC,EAD2B,OAEVlJ,mBAAwB,MAFd,mBAEzCqK,EAFyC,KAE5BE,EAF4B,OAGRvK,mBAAwB,MAHhB,mBAGzCsK,EAHyC,KAG3BE,EAH2B,OAIRxK,oBAAS,GAJD,mBAIzC+M,EAJyC,KAI3BtC,EAJ2B,KAMxC1L,EAAOqP,cAAPrP,GANwC,EAQN6F,YAGxCT,GAAS,CACTU,UAAW,CACT9F,GAAE,OAAEA,QAAF,IAAEA,IAAM,GACVkK,eACAjE,MAjBa,KAUThB,EARwC,EAQxCA,QAASvF,EAR+B,EAQ/BA,KAAMT,EARyB,EAQzBA,MAAOqQ,EARkB,EAQlBA,QAiBxBpB,EAAoB,uCAAG,sBAAAO,EAAA,sEACrBa,IADqB,2CAAH,qDAM1B,GAFAhK,KAEIL,EACF,OACE,cAAC,GAAD,CAASvE,UAAU,WAAnB,SACE,cAAC,GAAD,MAKN,GAAIzB,EACF,OACE,eAAC,GAAD,CAASyB,UAAU,WAAnB,UACE,cAAC,GAAD,CAAa/B,YAAY,qFACzB,cAAC,GAAD,OAKN,IAAMsL,EAAe,iBAAGvK,QAAH,IAAGA,GAAH,UAAGA,EAAMqE,eAAT,aAAG,EAAewL,gBAAlB,QAA8B,KAE7CC,GAA4B,OAAJ9P,QAAI,IAAJA,OAAA,EAAAA,EAAMqE,SAClC,cAAC,GAAD,CAAgBA,QAASrE,EAAKqE,UAC5B,KAEE0L,EAAyBxF,EAC7B,cAAC,GAAD,CACEA,gBAAiBA,EACjBC,aAAcA,EACdjE,MA5Da,EA6DbkE,gBAAiBA,IAEjB,KAEEuF,GAAkC,OAAJhQ,QAAI,IAAJA,OAAA,EAAAA,EAAMqE,SACxC,cAAC,GAAD,CACEzE,OAAQA,EACRuK,KAAMnK,EAAKqE,QAAQ8F,KACnBxL,MAAOqB,EAAKqE,QAAQ1F,MACpBgN,cAAe3L,EAAKqE,QAAQsH,cAC5BC,YAAaA,EACbC,aAAcA,EACdC,eAAgBA,EAChBC,gBAAiBA,EACjBC,gBAAiBA,IAEjB,KAEEiE,GACA,OAAJjQ,QAAI,IAAJA,OAAA,EAAAA,EAAMqE,UAAWuH,GAAeC,EAC9B,cAAC,GAAD,CACEvL,GAAIN,EAAKqE,QAAQ/D,GACjBiO,iBA9DmB,WACvBvC,GAAgB,GAChBF,EAAe,MACfC,EAAgB,OA4DZyC,qBAAsBA,EACtB7P,MAAOqB,EAAKqE,QAAQ1F,MACpBiN,YAAaA,EACbC,aAAcA,EACdyC,aAAcA,EACdtC,gBAAiBA,IAEjB,KAEN,OACE,eAAC,GAAD,CAAShL,UAAU,WAAnB,UACE,eAAC,KAAD,CAAKkC,OAAQ,GAAIgN,QAAQ,gBAAzB,UACE,eAAC,KAAD,CAAK/M,GAAI,GAAIgC,GAAI,GAAjB,UACG2K,EACAC,KAEH,cAAC,KAAD,CAAK5M,GAAI,GAAIgC,GAAI,GAAjB,SACG6K,OAGJC,M,UCzHCE,GAAWC,KAAXD,OAEKE,GAA6B,SAAC,GAA2B,IAAzBhK,EAAwB,EAAxBA,OAAQiK,EAAgB,EAAhBA,UACnD,OACE,sBAAKtP,UAAU,mBAAf,UACE,6CACA,eAAC,KAAD,CACEwB,MAAO6D,EACP1D,SAAU,SAAC0D,GAAD,OAA4BiK,EAAUjK,IAFlD,UAIE,cAAC8J,GAAD,CAAQ3N,MAAOhF,EAAe+S,kBAA9B,gCAGA,cAACJ,GAAD,CAAQ3N,MAAOhF,EAAe8I,kBAA9B,uC,UCZKkK,GAAgC,SAAC,GAKvC,IAJL9F,EAII,EAJJA,MACAlE,EAGI,EAHJA,KACAD,EAEI,EAFJA,MACAkK,EACI,EADJA,QAEA,OACE,cAAC,KAAD,CACEzF,QAASxE,EACTkE,MAAOA,EACPO,gBAAiB1E,EACjB2E,kBAAgB,EAChBC,eAAa,EACbxI,SAAU,SAAC6D,GAAD,OAAkBiK,EAAQjK,IACpCxF,UAAU,yBCnBH0P,GAAmB,WAG9B,OACE,gCACE,cAAC,KAAD,CAAUzM,UAAW,CAAEC,KAAM,KAC7B,cAAC,KAAD,CACEe,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAZY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAazCC,WAAY,SAAAhB,GAAO,OACjB,cAAC,KAAK7E,KAAN,UACE,cAAC,KAAD,CACE6D,MACE,qBACE7C,ICxBH,8vRDyBGQ,UAAU,sCAGduE,SAAO,EACPvE,UAAU,qCEVhBgF,GAAY7E,IAAZ6E,QACAC,GAA2BlD,KAA3BkD,UAAW9B,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAIZ6N,GAAW,WACtB,IAAMC,EAASjB,cACTkB,EAAcC,iBAAOF,EAAOhP,UAFN,EAGAL,mBAAS/D,EAAe+S,mBAHxB,mBAGrBlK,EAHqB,KAGbiK,EAHa,OAIJ/O,mBAAS,GAJL,mBAIrBiF,EAJqB,KAIfiK,EAJe,OAMKtK,YAC/BR,GACA,CACEoL,KAAMF,EAAY7F,UAAY4F,EAAOhP,UAAqB,IAAT4E,EACjDJ,UAAW,CACTxE,SAAUgP,EAAOhP,SACjByE,SACAE,MAfW,EAgBXC,UARExG,EANoB,EAMpBA,KAAMuF,EANc,EAMdA,QAAShG,EANK,EAMLA,MAoBvB,GAPAqG,KAEA9D,qBAAU,WACR2O,EAAQ,GACRI,EAAY7F,QAAU4F,EAAOhP,WAC5B,CAACgP,EAAOhP,WAEP2D,EACF,OACE,cAAC,GAAD,CAASvE,UAAU,WAAnB,SACE,cAAC,GAAD,MAKN,GAAIzB,EACF,OACE,eAAC,GAAD,CAASyB,UAAU,WAAnB,UACE,cAAC,GAAD,CAAa/B,YAAY,mLACzB,cAAC,GAAD,OAKN,IAAM+F,EAAWhF,EAAOA,EAAKgF,SAAW,KAClCgM,EAAiBhM,EAAWA,EAASiM,OAAS,KAE9CC,EACJlM,GAAYA,EAAS4B,OAAOzE,OAC1B,gCACE,eAAC,IAAD,CAAOgP,UAAW,GAAlB,UACE,cAAC,GAAD,CACEzG,MAAO1F,EAAS0F,MAChBlE,KAAMA,EACND,MAvDO,EAwDPkK,QAASA,IAEX,cAAC,GAAD,CAAiBpK,OAAQA,EAAQiK,UAAWA,OAE9C,cAAC,KAAD,CACErL,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAAYJ,EAAS4B,OACrBvB,WAAY,SAAAhB,GAAO,OACjB,cAAC,KAAK7E,KAAN,UACE,cAAC,GAAD,CAAa6E,QAASA,YAM9B,gCACE,eAAC,GAAD,+DACoD,IAClD,eAAC,GAAD,CAAM8J,MAAI,EAAV,cAAa6C,EAAb,UAEF,eAAC,GAAD,6CACkC,IAChC,cAAC,IAAD,CAAMtQ,GAAG,QAAT,yCAKF0Q,EAAwBJ,EAC5B,eAAC,GAAD,CAAOrM,MAAO,EAAG3D,UAAU,kBAA3B,0BACgBgQ,EADhB,OAGE,KAEJ,OACE,eAAC,GAAD,CAAShQ,UAAU,WAAnB,UACGoQ,EACAF,M,UClHClL,GAAY7E,IAAZ6E,QACA7B,GAASpB,KAAToB,KAEKkN,GAAW,WAGtB,OAFAzL,KAGE,eAAC,GAAD,CAAS5E,UAAU,YAAnB,UACE,cAAC,KAAD,CACE/B,YACE,eAAC,WAAD,WACE,cAAC,GAAD,CAAM+B,UAAU,+BAAhB,qCAGA,cAAC,GAAD,CAAMA,UAAU,kCAAhB,6DAMN,cAAC,IAAD,CACEN,GAAG,IACHM,UAAU,oDAFZ,sBCJEiF,GAA2BlD,KAA3BkD,UAAW9B,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAEnBwO,GAAe,kFAA8EC,sCAA9E,qBAERC,GAAyB,SAAC,GAMhC,IALLC,EAKI,EALJA,KACA7R,EAII,EAJJA,OACAC,EAGI,EAHJA,UACA6R,EAEI,EAFJA,aACAC,EACI,EADJA,kBACI,EACoC7R,YACtCxB,EACA,CACEyB,YAAa,SAAAC,GACPA,GAAQA,EAAK4R,mBACf/R,EAAU,6BAAKD,GAAN,IAAc0H,UAAWtH,EAAK4R,iBAAiBtK,aACxDvI,EACE,gDACA,wEAEF4S,MAGJvR,QAAS,WACPd,EACE,oFAhBJ,mBACGsS,EADH,KACuBrM,EADvB,KACuBA,QAyBrBsM,EAAoBJ,EAAKnK,UAC7B,eAAC,WAAD,WACE,cAAC,GAAD,UACE,cAAC,KAAD,CAAKxC,MAAM,QAAX,iCAEF,eAAC,GAAD,4BACiB,IACf,cAAC,GAAD,CAAMF,QAAM,EAAZ,SACG6M,EAAKK,OAASpT,EAAmB+S,EAAKK,QAAU,UAGrD,cAAC,IAAD,CACEjR,KAAK,UACLG,UAAU,4BACVuE,QAASA,EACT3E,QAAS,kBAAMgR,KAJjB,8BAQA,eAAC,GAAD,CAAW/Q,KAAK,YAAhB,2DACiD,IAC/C,cAAC,GAAD,CAAM+D,QAAM,EAAZ,oCAFF,4FAOF,eAAC,WAAD,WACE,cAAC,GAAD,0FAIA,cAAC,IAAD,CACE/D,KAAK,UACLG,UAAU,4BACVJ,QAtCmB,WACvBkF,OAAOlE,SAASmQ,KAAOT,IAkCrB,iCAOA,eAAC,GAAD,CAAWzQ,KAAK,YAAhB,2BACiB,IACf,mBACEkR,KAAK,mCACLlP,OAAO,SACPmP,IAAI,sBAHN,oBAMK,IARP,uEAcEC,EAA2BP,EAC/B,eAAC,WAAD,WACE,cAAC,KAAD,IACA,sBAAK1Q,UAAU,wBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAd,gCACCkN,QAGH,KAEJ,OACE,qBAAK7Q,UAAU,eAAf,SACE,eAAC,KAAD,CAAMA,UAAU,qBAAhB,UACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,IAAD,CAAQiC,KAAM,IAAKzC,IAAKiR,EAAKhR,WAE/B,cAAC,KAAD,IACA,sBAAKO,UAAU,wBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAd,qBACA,eAAC,GAAD,oBACQ,cAAC,GAAD,CAAMC,QAAM,EAAZ,SAAc6M,EAAKxJ,UAE3B,eAAC,GAAD,uBACW,cAAC,GAAD,CAAMrD,QAAM,EAAZ,SAAc6M,EAAKS,gBAG/BD,QC3HDhM,GAA2BlD,KAA3BkD,UAAW9B,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAEZqP,GAA0B,SAAC,GAKjC,IAJLC,EAII,EAJJA,aACA5H,EAGI,EAHJA,aACAjE,EAEI,EAFJA,MACAkE,EACI,EADJA,gBAEMC,EAAQ0H,EAAeA,EAAa1H,MAAQ,KAC5C9D,EAASwL,EAAeA,EAAaxL,OAAS,KAE9CyL,EAAmBD,EACvB,cAAC,KAAD,CACEnN,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAAYwB,QAAkBgE,EAC9BC,OAAQ,CAAEC,UAAW,kCACrBC,WAAY,CACVuH,SAAU,MACVtH,QAASR,EACTE,MAAOA,QAAgBE,EACvBK,gBAAiB1E,EACjB2E,kBAAkB,EAClBC,eAAe,EACfxI,SAAU,SAAC6D,GAAD,OAAkBiE,EAAgBjE,KAE9CnB,WAAY,SAAAkN,GACV,IAAMlH,EACJ,sBAAKrK,UAAU,iCAAf,UACE,6CACY,cAAC,GAAD,CAAM4D,QAAM,EAAZ,SAAc2N,EAAYjH,aAEtC,8CACa,cAAC,GAAD,CAAM1G,QAAM,EAAZ,SAAc2N,EAAYhH,iBAI3C,OACE,eAAC,KAAK/L,KAAN,WACG6L,EACD,cAAC,GAAD,CAAahH,QAASkO,EAAYlO,gBAKxC,KAeJ,OAb4BgO,EAC1B,sBAAKrR,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,uBAA3B,sBAGA,cAAC,GAAD,CAAWA,UAAU,6BAArB,gIAICqR,KAED,MC9DEpM,GAAqBlD,KAArBkD,UAAWnD,GAAUC,KAAVD,MAEN0P,GAA0B,SAAC,GAKjC,IAJLC,EAII,EAJJA,aACAC,EAGI,EAHJA,aACAnM,EAEI,EAFJA,MACAoM,EACI,EADJA,gBAEQjI,EAAkB+H,EAAlB/H,MAAO9D,EAAW6L,EAAX7L,OACTgM,EACJ,cAAC,KAAD,CACE3N,KAAM,CACJ/B,OAAQ,EACRC,GAAI,EACJ+B,GAAI,EACJC,GAAI,GAENC,WAAYwB,EACZiE,OAAQ,CAAEC,UAAW,uCACrBC,WAAY,CACVuH,SAAU,MACVtH,QAAS0H,EACThI,QACAO,gBAAiB1E,EACjB2E,kBAAkB,EAClBC,eAAe,EACfxI,SAAU,SAAC6D,GAAD,OAAkBmM,EAAgBnM,KAE9CnB,WAAY,SAAAwN,GAAW,OACrB,cAAC,KAAKrT,KAAN,UACE,cAAC,GAAD,CAAa6E,QAASwO,SAM9B,OACE,sBAAK7R,UAAU,gBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,uBAA3B,sBAGA,cAAC,GAAD,CAAWA,UAAU,6BAArB,iHAIC4R,MCtCC5M,GAAY7E,IAAZ6E,QAGK8M,GAAkB,SAAC,GAA2B,IAAzBlT,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAAgB,EAChB0B,mBAAS,GADO,mBACjDmR,EADiD,KACnCC,EADmC,OAEhBpR,mBAAS,GAFO,mBAEjDiJ,EAFiD,KAEnCC,EAFmC,KAIlDmG,EAASjB,cAJyC,EAKdxJ,YACxCV,GACA,CACEW,UAAW,CACT9F,GAAIsQ,EAAOtQ,GACXkK,eACAkI,eACAnM,MAdW,GAgBbE,YAAa,sBATTzG,EALgD,EAKhDA,KAAMuF,EAL0C,EAK1CA,QAAShG,EALiC,EAKjCA,MAAOqQ,EAL0B,EAK1BA,QAaxB+B,EAAiB,uCAAG,sBAAA5C,EAAA,sEAClBa,IADkB,2CAAH,qDAOjBmD,EAHc,IAAIC,IAAIlN,OAAOlE,SAASmQ,MAAMkB,aAAaC,IAC7D,gBAGA,cAAC,GAAD,CAAajU,YAAY,mEACvB,KAIJ,GAFA2G,KAEIL,EACF,OACE,cAAC,GAAD,CAASvE,UAAU,OAAnB,SACE,cAAC,GAAD,MAKN,GAAIzB,EACF,OACE,eAAC,GAAD,CAASyB,UAAU,OAAnB,UACE,cAAC,GAAD,CAAa/B,YAAY,mFACzB,cAAC,GAAD,OAKN,IAAMwS,EAAOzR,EAAOA,EAAKyR,KAAO,KAC1BC,EAAe9R,EAAOU,KAAOsQ,EAAOtQ,GAEpCmS,EAAehB,EAAOA,EAAKzM,SAAW,KACtCoN,EAAeX,EAAOA,EAAK5B,SAAW,KAEtCsD,EAAqB1B,EACzB,cAAC,GAAD,CACEA,KAAMA,EACNC,aAAcA,EACd9R,OAAQA,EACRC,UAAWA,EACX8R,kBAAmBA,IAEnB,KAEEyB,EAAsBX,EAC1B,cAAC,GAAD,CACEA,aAAcA,EACdC,aAAcA,EACdnM,MAtEa,EAuEboM,gBAAiBA,IAEjB,KAEEU,EAAsBjB,EAC1B,cAAC,GAAD,CACEA,aAAcA,EACd5H,aAAcA,EACdjE,MA/Ea,EAgFbkE,gBAAiBA,IAEjB,KAEJ,OACE,eAAC,GAAD,CAASzJ,UAAU,OAAnB,UACG+R,EACD,eAAC,KAAD,CAAK7P,OAAQ,GAAIgN,QAAQ,gBAAzB,UACE,cAAC,KAAD,CAAK/M,GAAI,GAAT,SAAcgQ,IACd,eAAC,KAAD,CAAKhQ,GAAI,GAAT,UACGiQ,EACAC,YCvFHrN,GAAY7E,IAAZ6E,QACA7B,GAAgBpB,KAAhBoB,KAAMrB,GAAUC,KAAVD,MAEDwQ,GAAmB,SAAC,GAAmB,IAAjBzT,EAAgB,EAAhBA,UAC3B0T,EAASC,cADkC,EAG/C1T,YAAuC5B,EAAQ,CAC7C6B,YAAa,SAAAC,GACPA,GAAQA,EAAKyT,OAASzT,EAAKyT,MAAMvE,QACnCrP,EAAUG,EAAKyT,OACfvT,eAAewT,QAAQ,QAAS1T,EAAKyT,MAAMvE,OAC3CnQ,EAA2B,sCARc,mBAE1C0U,EAF0C,YAE3BE,EAF2B,EAEjC3T,KAA0B4T,EAFO,EAEhBrO,QAA8BsO,EAFd,EAEOtU,MAUlDuU,EAAWhD,iBAAO2C,GAExB7N,KAEA9D,qBAAU,WACR,IAAMiS,EAAO,IAAIf,IAAIlN,OAAOlE,SAASmQ,MAAMkB,aAAaC,IAAI,QAExDa,GACFD,EAAS9I,QAAQ,CACf5E,UAAW,CACT0B,MAAO,CAAEiM,aAId,IAEH,IAAMC,EAAe,uCAAG,8BAAAjF,EAAA,+EAEGwE,EAAOU,MAAmB,CAAEA,MAAOzO,KAFtC,gBAEZxF,EAFY,EAEZA,KACR8F,OAAOlE,SAASmQ,KAAO/R,EAAKkU,QAHR,gDAKpB5U,EACE,iEANkB,yDAAH,qDAWrB,GAAIsU,EACF,OACE,cAAC,GAAD,CAAS5S,UAAU,SAAnB,SACE,cAAC,IAAD,CAAMiC,KAAK,QAAQkR,IAAI,wBAK7B,GAAIR,GAAaA,EAAUF,MAAO,CAAC,IACrBW,EAAaT,EAAUF,MAA3BnT,GACR,OAAO,cAAC,IAAD,CAAUI,GAAE,gBAAW0T,KAGhC,IAAMC,EAA0BR,EAC9B,cAAC,GAAD,CAAa5U,YAAY,kEACvB,KAEJ,OACE,eAAC,GAAD,CAAS+B,UAAU,SAAnB,UACGqT,EACD,eAAC,KAAD,CAAMrT,UAAU,cAAhB,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,GAAD,CAAO2D,MAAO,EAAG3D,UAAU,2BAA3B,SACE,sBAAMsT,KAAK,MAAMC,aAAW,OAA5B,4BAIF,cAAC,GAAD,CAAO5P,MAAO,EAAG3D,UAAU,2BAA3B,kCAGA,cAAC,GAAD,yEAEF,yBACEA,UAAU,6BACVJ,QAASoT,EAFX,UAIE,qBACExT,ICvGG,q6KDwGH6B,IAAI,cACJrB,UAAU,oCAEZ,sBAAMA,UAAU,kCAAhB,oCAIF,cAAC,GAAD,CAAMH,KAAK,YAAX,8HE7FAmF,GAAY7E,IAAZ6E,QAEKwO,GAAoB,SAAC,GAA2B,IAAzB5U,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACpC6B,EAAWC,cADyC,EAGR7B,YAGhDzB,EAAgB,CAChB0B,YAAa,SAAAC,GACPA,GAAQA,EAAKyU,gBACf5U,EAAU,6BAAKD,GAAN,IAAc0H,UAAWtH,EAAKyU,cAAcnN,aACrDvI,EACE,qDACA,8DAZkD,mBAGnD0V,EAHmD,YAGlCzU,EAHkC,EAGlCA,KAAMuF,EAH4B,EAG5BA,QAAShG,EAHmB,EAGnBA,MAejCmV,EAAmB5D,iBAAO2D,GAkBhC,OAhBA7O,KAEA9D,qBAAU,WACR,IAAMiS,EAAO,IAAIf,IAAIlN,OAAOlE,SAASmQ,MAAMkB,aAAaC,IAAI,QAExDa,EACFW,EAAiB1J,QAAQ,CACvB5E,UAAW,CACT0B,MAAO,CAAEiM,WAIbrS,EAAS,YAEV,CAACA,IAEA1B,GAAQA,EAAKyU,cACR,cAAC,IAAD,CAAU/T,GAAE,gBAAWd,EAAOU,MAGnCiF,EAEA,cAAC,GAAD,CAASvE,UAAU,SAAnB,SACE,cAAC,IAAD,CAAMiC,KAAK,QAAQkR,IAAI,wCAKzB5U,EACK,cAAC,IAAD,CAAUmB,GAAE,gBAAWd,EAAOU,GAAlB,wBAGd,MC3CHiT,I,OAAS,IAAIoB,IAAa,CAC9BC,IAAK,OACLC,QAAQ,WAAD,4BAAE,WAAMC,GAAN,eAAA/F,EAAA,sDACDG,EAAQhP,eAAe6U,QAAQ,SACrCD,EAAUE,WAAW,CACnBC,QAAS,CACP,eAAgB/F,GAAS,MAJtB,2CAAF,mDAAC,MAUJgG,GAAwB,CAC5B5U,GAAI,KACJ4O,MAAO,KACPzO,OAAQ,KACR6G,UAAW,KACX6N,YAAY,GAGRC,GAAM,WAAO,IAAD,EACY7T,mBAAiB2T,IAD7B,mBACTtV,EADS,KACDC,EADC,OAEWC,YAAuC5B,EAAQ,CACxE6B,YAAa,SAAAC,GACPA,GAAQA,EAAKyT,QACf5T,EAAUG,EAAKyT,OAEXzT,EAAKyT,MAAMvE,MACbhP,eAAewT,QAAQ,QAAS1T,EAAKyT,MAAMvE,OAE3ChP,eAAeC,WAAW,aAVlB,mBAETsT,EAFS,KAEAlU,EAFA,KAEAA,MAaVuU,EAAWhD,iBAAO2C,GAQxB,GANA7N,KAEA9D,qBAAU,WACRgS,EAAS9I,YACR,KAEEpL,EAAOuV,aAAe5V,EACzB,OACE,eAAC,IAAD,CAAQyB,UAAU,eAAlB,UACE,cAAC,GAAD,IACA,qBAAKA,UAAU,6BAAf,SACE,cAAC,IAAD,CAAMiC,KAAK,QAAQkR,IAAI,6BAM/B,IAAME,EAA0B9U,EAC9B,cAAC,GAAD,CAAaN,YAAY,6EACvB,KAEJ,OACE,cAAC,kBAAD,CAAgBoW,OAAQ9D,8GAAxB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAQjR,GAAG,MAAX,UACG+T,EACD,cAAC,IAAD,CAAOlD,UAAW,EAAGnQ,UAAU,oBAA/B,SACE,cAAC,GAAD,CAAWpB,OAAQA,EAAQC,UAAWA,MAExC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyV,KAAK,IAAIC,QAAS,cAAC,GAAD,MACzB,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,GAAD,CAAM3V,OAAQA,MAC3C,cAAC,IAAD,CACE0V,KAAK,eACLC,QACE,cAAC,YAAD,UACE,cAAC,GAAD,CAAS3V,OAAQA,QAIvB,cAAC,IAAD,CAAO0V,KAAK,sBAAsBC,QAAS,cAAC,GAAD,MAC3C,cAAC,IAAD,CAAOD,KAAK,YAAYC,QAAS,cAAC,GAAD,MACjC,cAAC,IAAD,CACED,KAAK,YACLC,QAAS,cAAC,GAAD,CAAM3V,OAAQA,EAAQC,UAAWA,MAE5C,cAAC,IAAD,CAAOyV,KAAK,SAASC,QAAS,cAAC,GAAD,CAAO1V,UAAWA,MAChD,cAAC,IAAD,CACEyV,KAAK,UACLC,QAAS,cAAC,GAAD,CAAQ3V,OAAQA,EAAQC,UAAWA,MAE9C,cAAC,IAAD,CAAOyV,KAAK,IAAIC,QAAS,cAAC,GAAD,iBAQrCC,IAASC,OACP,cAAC,IAAD,CAAgBlC,OAAQA,GAAxB,SACE,cAAC,GAAD,MAEFmC,SAASC,eAAe,SAM1BlY,M","file":"static/js/main.22315eeb.chunk.js","sourcesContent":["/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import gql from 'graphql-tag';\n\nexport const LOG_IN = gql`\n  mutation LogIn($input: LogInInput) {\n    logIn(input: $input) {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const LOG_OUT = gql`\n  mutation LogOut {\n    logOut {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const CONNECT_STRIPE = gql`\n  mutation ConnectStripe($input: ConnectStripeInput!) {\n    connectStripe(input: $input) {\n      hasWallet\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const DISCONNECT_STRIPE = gql`\n  mutation DisconnectStripe {\n    disconnectStripe {\n      hasWallet\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const HOST_LISTING = gql`\n  mutation HostListing($input: HostListingInput!) {\n    hostListing(input: $input) {\n      id\n    }\n  }\n`;\n","import { gql } from 'apollo-boost';\n\nexport const CREATE_BOOKING = gql`\n  mutation CreateBooking($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      id\n    }\n  }\n`;\n","import { message, notification } from 'antd';\n\nexport const iconColor = '#1890ff';\n\nexport const formatListingPrice = (price: number, round = true) => {\n  const formattedListingPrice = round ? Math.round(price / 100) : price / 100;\n  return `$${formattedListingPrice}`;\n};\n\nexport const displaySuccessNotification = (\n  message: string,\n  description?: string\n) => {\n  return notification['success']({\n    message,\n    description,\n    placement: 'topLeft',\n    style: {\n      marginTop: 50\n    }\n  });\n};\n\nexport const displayErrorMessage = (error: string) => {\n  return message.error(error);\n};\n","import React, { FC } from 'react';\nimport { Avatar, Button, Menu } from 'antd';\nimport { HomeOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport { Viewer } from '../../../../lib/types';\nimport UserOutlined from '@ant-design/icons/lib/icons/UserOutlined';\nimport LogoutOutlined from '@ant-design/icons/lib/icons/LogoutOutlined';\nimport { LOG_OUT } from '../../../../lib/graphql/mutations';\nimport { LogOut as LogOutData } from '../../../../lib/graphql/mutations/LogOut/__generated__/LogOut';\nimport { useMutation } from 'react-apollo';\nimport {\n  displayErrorMessage,\n  displaySuccessNotification\n} from '../../../../lib/utils';\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Item, SubMenu } = Menu;\n\nexport const MenuItems: FC<Props> = ({ viewer, setViewer }) => {\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\n    onCompleted: data => {\n      if (data && data.logOut) {\n        setViewer(data.logOut);\n        sessionStorage.removeItem('token');\n        displaySuccessNotification(\"You've successfully logged out!\");\n      }\n    },\n    onError: data => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you out. Please try again later.\"\n      );\n    }\n  });\n\n  const handleLogOut = () => {\n    logOut();\n  };\n\n  const subMenuLogin = viewer.id ? (\n    <SubMenu title={<Avatar src={viewer.avatar} />} key={viewer.id}>\n      <Item key=\"/user\">\n        <Link to={`/user/${viewer.id}`}>\n          <UserOutlined style={{ marginRight: 6 }} />\n          Profile\n        </Link>\n      </Item>\n      <Item key=\"/logout\">\n        <div onClick={handleLogOut}>\n          <LogoutOutlined style={{ marginRight: 6 }} />\n          Log out\n        </div>\n      </Item>\n    </SubMenu>\n  ) : (\n    <Item key=\"/login\">\n      <Link to=\"/login\">\n        <Button type=\"primary\">Sign In</Button>\n      </Link>\n    </Item>\n  );\n\n  return (\n    <Menu mode=\"horizontal\" selectable={false} className=\"menu\">\n      <Item key=\"/host\">\n        <Link to=\"/host\">\n          <HomeOutlined style={{ marginRight: 6 }} />\n          Host\n        </Link>\n      </Item>\n      <Item>{subMenuLogin}</Item>\n      {/* {subMenuLogin} */}\n    </Menu>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { Layout, Input } from 'antd';\nimport logo from './assets/tinyhouse-logo.png';\nimport { MenuItems } from './components';\nimport { Viewer } from '../../lib/types';\nimport { displayErrorMessage } from '../../lib/utils';\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Header } = Layout;\nconst { Search } = Input;\n\nexport const AppHeader: FC<Props> = ({ viewer, setViewer }) => {\n  const [search, setSearch] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const { pathname } = location;\n    const pathnameSubStrings = pathname.split('/');\n\n    if (!pathname.includes('/listings')) {\n      setSearch('');\n      return;\n    }\n\n    if (pathname.includes('/listings') && pathnameSubStrings.length === 3) {\n      setSearch(decodeURI(pathnameSubStrings[2]));\n    }\n  }, [location]);\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n\n    if (trimmedValue) {\n      navigate(`/listings/${value}`);\n    } else {\n      displayErrorMessage('Please enter a valid search!');\n    }\n  };\n\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"App logo\" />\n          </Link>\n        </div>\n        <div className=\"app-header__search-input\">\n          <Search\n            placeholder=\"Search 'San Fransisco'\"\n            enterButton\n            value={search}\n            onSearch={onSearch}\n            onChange={e => setSearch(e.target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"app-header__menu-section\">\n        <MenuItems viewer={viewer} setViewer={setViewer} />\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpeg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpeg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpeg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpeg\";","import React, { FC } from 'react';\nimport { Card, Col, Input, Row, Typography } from 'antd';\n\nimport torontoImage from '../../assets/toronto.jpeg';\nimport dubaiImage from '../../assets/dubai.jpeg';\nimport losAngelesImage from '../../assets/los-angeles.jpeg';\nimport londonImage from '../../assets/london.jpeg';\nimport { Link } from 'react-router-dom';\n\nconst { Title } = Typography;\nconst { Search } = Input;\n\ninterface Props {\n  onSearch: (value: string) => void;\n}\n\nexport const HomeHero: FC<Props> = ({ onSearch }) => {\n  return (\n    <div className=\"home-hero\">\n      <div className=\"home-hero__search\">\n        <Title className=\"home-hero__title\">\n          Find a place you'll love to stay at\n        </Title>\n        <Search\n          placeholder=\"Search 'San Francisco'\"\n          size=\"large\"\n          enterButton\n          className=\"home-hero__search-input\"\n          onSearch={onSearch}\n        ></Search>\n      </div>\n      <Row gutter={12} className=\"home-hero__cards\">\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/toronto\">\n            <Card cover={<img src={torontoImage} alt=\"Toronto\" />}>\n              Toronto\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/dubai\">\n            <Card cover={<img src={dubaiImage} alt=\"Dubai\" />}>Dubai</Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/los%20angeles\">\n            <Card cover={<img src={losAngelesImage} alt=\"Los Angeles\" />}>\n              Los Angeles\n            </Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/london\">\n            <Card cover={<img src={londonImage} alt=\"London\" />}>London</Card>\n          </Link>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Alert } from 'antd';\n\ninterface Props {\n  message?: string;\n  description?: string;\n}\n\nexport const ErrorBanner: FC<Props> = ({\n  message = 'Something went wrong :(',\n  description = 'Looks like something went wrong. Please try again later.'\n}) => {\n  return (\n    <Alert\n      banner\n      closable\n      message={message}\n      description={description}\n      type=\"error\"\n      className=\"error-banner\"\n    />\n  );\n};\n","import React from 'react';\nimport { Layout } from 'antd';\nimport logo from './assets/tinyhouse-logo.png';\n\nconst { Header } = Layout;\n\nexport const AppHeaderSkeleton = () => {\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <img src={logo} alt=\"App logo\" />\n        </div>\n      </div>\n    </Header>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { Skeleton } from 'antd';\nimport React, { Fragment } from 'react';\n\nexport const PageSkeleton = () => {\n  const skeletonParagraph = (\n    <Skeleton\n      active\n      paragraph={{ rows: 4 }}\n      className=\"page-skeleton__paragraph\"\n    />\n  );\n\n  return (\n    <Fragment>\n      {skeletonParagraph}\n      {skeletonParagraph}\n      {skeletonParagraph}\n    </Fragment>\n  );\n};\n","import React, { FC } from 'react';\nimport { Card, Typography } from 'antd';\nimport UserOutlined from '@ant-design/icons/lib/icons/UserOutlined';\nimport { formatListingPrice, iconColor } from '../../utils';\nimport { Link } from 'react-router-dom';\n\ninterface Props {\n  listing: {\n    id: string;\n    title: string;\n    image: string;\n    address: string;\n    price: number;\n    numOfGuests: number;\n  };\n}\n\nconst { Text, Title } = Typography;\n\nexport const ListingCard: FC<Props> = ({ listing }) => {\n  const { id, title, image, address, price, numOfGuests } = listing;\n\n  return (\n    <Link to={`/listing/${id}`}>\n      <Card\n        hoverable\n        cover={\n          <div\n            className=\"listing-card__cover-img\"\n            style={{ backgroundImage: `url(${image})` }}\n          />\n        }\n      >\n        <div className=\"listing-card__details\">\n          <div className=\"listing-card__description\">\n            <Title level={4} className=\"listing-card__price\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n            <Text strong ellipsis className=\"listing-card__title\">\n              {title}\n            </Text>\n            <Text ellipsis className=\"listing-card__address\">\n              {address}\n            </Text>\n          </div>\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\n            <UserOutlined style={{ color: iconColor, marginRight: 5 }} />\n            <Text>\n              {numOfGuests} {numOfGuests === 1 ? 'guest' : 'guests'}\n            </Text>\n          </div>\n        </div>\n      </Card>\n    </Link>\n  );\n};\n","import React, { FC } from 'react';\nimport { Typography, List } from 'antd';\nimport { ListingCard } from '../../../../lib/components';\nimport { Listings } from '../../../../lib/graphql/queries/Listings/__generated__/Listings';\n\ninterface Props {\n  title: string;\n  listings: Listings['listings']['result'];\n}\n\nconst { Title } = Typography;\n\nexport const HomeListings: FC<Props> = ({ title, listings }) => {\n  return (\n    <div className=\"home-listings\">\n      <Title level={4} className=\"home-listings__title\">\n        {title}\n      </Title>\n      <List\n        grid={{\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4\n        }}\n        dataSource={listings}\n        renderItem={listing => (\n          <List.Item>\n            <ListingCard listing={listing} />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport { List, Card, Skeleton } from 'antd';\n\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpeg';\n\nexport const HomeListingsSkeleton = () => {\n  const emptyData = [{}, {}, {}, {}];\n\n  return (\n    <div className=\"home-listings-skeleton\">\n      <Skeleton paragraph={{ rows: 0 }} />\n      <List\n        grid={{\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4\n        }}\n        dataSource={emptyData}\n        renderItem={listing => (\n          <List.Item>\n            <Card\n              cover={\n                <div\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\n                  className=\"home-listings-skeleton__card-cover-img\"\n                ></div>\n              }\n              loading\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpeg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpeg\";","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpeg\";","import gql from 'graphql-tag';\n\nexport const AUTH_URL = gql`\n  query AuthUrl {\n    authUrl\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const USER = gql`\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image\n            address\n            price\n            numOfGuests\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image\n          address\n          price\n          numOfGuests\n        }\n      }\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const LISTING = gql`\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      type\n      address\n      city\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      numOfGuests\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const LISTINGS = gql`\n  query Listings(\n    $location: String\n    $filter: ListingsFilter!\n    $limit: Int!\n    $page: Int!\n  ) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      region\n      total\n      result {\n        id\n        title\n        image\n        address\n        price\n        numOfGuests\n      }\n    }\n  }\n`;\n","import { useLayoutEffect } from 'react';\n\nexport const useScrollToTop = () => {\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Col, Layout, Row, Typography } from 'antd';\nimport { useNavigate } from 'react-router';\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from './components';\nimport { displayErrorMessage } from '../../lib/utils';\nimport {\n  Listings as ListingsData,\n  ListingsVariables\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\n\nimport mapBackground from './assets/map-background.jpeg';\nimport sanFransiscoImage from './assets/san-fransisco.jpeg';\nimport cancunImage from './assets/cancun.jpeg';\nimport { useQuery } from 'react-apollo';\nimport { LISTINGS } from '../../lib/graphql/queries';\nimport { useScrollToTop } from '../../lib/hooks';\n\nconst { Content } = Layout;\nconst { Paragraph, Title } = Typography;\n\nconst PAGE_LIMIT = 4;\nconst PAGE_NUMBER = 1;\n\nexport const Home = () => {\n  const { loading, data } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      variables: {\n        filter: ListingsFilter.PRICE_HIGH_TO_LOW,\n        limit: PAGE_LIMIT,\n        page: PAGE_NUMBER\n      },\n      fetchPolicy: 'cache-and-network'\n    }\n  );\n\n  useScrollToTop();\n\n  const navigate = useNavigate();\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n    if (trimmedValue) {\n      navigate(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage('Please enter a valid search!');\n    }\n  };\n\n  const renderListingsSection = () => {\n    if (loading) {\n      return <HomeListingsSkeleton />;\n    }\n\n    if (data) {\n      return (\n        <HomeListings\n          title=\"Premium Listings\"\n          listings={data.listings.result}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <Content\n      className=\"home\"\n      style={{ backgroundImage: `url(${mapBackground})` }}\n    >\n      <HomeHero onSearch={onSearch} />\n      <div className=\"home__cta-section\">\n        <Title level={2} className=\"home__cta-section-title\">\n          Your guide for all things rental\n        </Title>\n        <Paragraph>\n          Helping you make the best decisions in renting yout last minute\n          locations.\n        </Paragraph>\n        <Link\n          to=\"/listings/united%20states\"\n          className=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\n        >\n          Popular listings in the United States\n        </Link>\n      </div>\n      {renderListingsSection()}\n      <div className=\"home__listings\">\n        <Title level={4} className=\"home__listings-title\">\n          Listings of any kind\n        </Title>\n        <Row gutter={12}>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/san%20fransisco\">\n              <div className=\"home__listings-img-cover\">\n                <img\n                  src={sanFransiscoImage}\n                  alt=\"San Fransisco\"\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/cancún\">\n              <div className=\"home__listings-img-cover\">\n                <img\n                  src={cancunImage}\n                  alt=\"Cancún\"\n                  className=\"home__listings-img\"\n                />\n              </div>\n            </Link>\n          </Col>\n        </Row>\n      </div>\n    </Content>\n  );\n};\n","import React, { FC, useState } from 'react';\nimport {\n  Layout,\n  Typography,\n  Form,\n  Input,\n  InputNumber,\n  Radio,\n  Upload,\n  Button\n} from 'antd';\nimport {\n  HomeOutlined,\n  BankOutlined,\n  LoadingOutlined,\n  PlusOutlined\n} from '@ant-design/icons';\nimport { Viewer } from '../../lib/types';\nimport { Link, Navigate } from 'react-router-dom';\nimport { ListingType } from '../../lib/graphql/globalTypes';\nimport {\n  displayErrorMessage,\n  displaySuccessNotification,\n  iconColor\n} from '../../lib/utils';\nimport { UploadChangeParam } from 'antd/lib/upload';\nimport { useMutation } from 'react-apollo';\nimport { HOST_LISTING } from '../../lib/graphql/mutations';\nimport {\n  HostListing as HostListingData,\n  HostListingVariables\n} from '../../lib/graphql/mutations/HostListing/__generated__/HostListing';\nimport { useScrollToTop } from '../../lib/hooks';\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\nconst { Item } = Form;\n\nexport const Host: FC<Props> = ({ viewer }) => {\n  const [imageLoading, setImageLoading] = useState(false);\n  const [imageBase64Value, setImageBase64Value] = useState<string | null>(null);\n\n  const [hostListing, { loading, data }] = useMutation<\n    HostListingData,\n    HostListingVariables\n  >(HOST_LISTING, {\n    onCompleted: () => {\n      displaySuccessNotification(\"You've successfully created your listing!\");\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to create your listing. Please try again later.\"\n      );\n    }\n  });\n\n  useScrollToTop();\n\n  const handleImageUpload = (info: UploadChangeParam) => {\n    const { file } = info;\n\n    if (file.status === 'uploading') {\n      setImageLoading(true);\n      return;\n    }\n\n    if (file.status === 'done' && file.originFileObj) {\n      getBase64Value(file.originFileObj, imageBase64Value => {\n        setImageBase64Value(imageBase64Value);\n        setImageLoading(false);\n      });\n    }\n  };\n\n  const handleHostListing = (values: any) => {\n    const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.postalCode}`;\n\n    const input = {\n      ...values,\n      address: fullAddress,\n      image: imageBase64Value,\n      price: values.price * 100\n    };\n    delete input.city;\n    delete input.state;\n    delete input.postalCode;\n\n    hostListing({\n      variables: {\n        input\n      }\n    });\n  };\n\n  const handleHostListingFailure = () => {\n    displayErrorMessage('Please complete all required form fields!');\n  };\n\n  if (!viewer.id || !viewer.hasWallet) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={4} className=\"host__form-title\">\n            You'll have to be signed in and connected with Stripe to host a\n            listing!\n          </Title>\n          <Text type=\"secondary\">\n            We only allow users who have signed in to our application and have\n            connected with Stripe to host a listing. You can sign in at the{' '}\n            <Link to=\"/login\">/login</Link> page and connect with Stripe shortly\n            after.\n          </Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (loading) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host__form-title\">\n            Please wait!\n          </Title>\n          <Text type=\"secondary\">We're creating your listing now.</Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (data && data.hostListing) {\n    return <Navigate to={`/listing/${data.hostListing.id}`} />;\n  }\n\n  return (\n    <Content className=\"host-content\">\n      <Form\n        layout=\"vertical\"\n        onFinish={handleHostListing}\n        onFinishFailed={handleHostListingFailure}\n      >\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host__form-title\">\n            Hi! Let's get started listing your place.\n          </Title>\n          <Text type=\"secondary\">\n            In this form, we'll connect some basic and additional information\n            about your listing.\n          </Text>\n        </div>\n\n        <Item\n          label=\"Home Type\"\n          name=\"type\"\n          rules={[{ required: true, message: 'Please select a home type!' }]}\n        >\n          <Radio.Group>\n            <Radio.Button value={ListingType.APARTMENT}>\n              <BankOutlined style={{ color: iconColor }} />{' '}\n              <span>Apartment</span>\n            </Radio.Button>\n            <Radio.Button value={ListingType.HOUSE}>\n              <HomeOutlined style={{ color: iconColor }} /> <span>House</span>\n            </Radio.Button>\n          </Radio.Group>\n        </Item>\n\n        <Item\n          label=\"Max # of Guests\"\n          name=\"numOfGuests\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter the max number of guests!'\n            }\n          ]}\n        >\n          <InputNumber min={1} placeholder=\"4\" />\n        </Item>\n\n        <Item\n          label=\"Title\"\n          extra=\"Max character count of 45\"\n          name=\"title\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a title for your listing!'\n            }\n          ]}\n        >\n          <Input\n            maxLength={45}\n            placeholder=\"The iconic and luxurious Bel-Air mansion\"\n          />\n        </Item>\n\n        <Item\n          label=\"Description of listing\"\n          extra=\"Max character count of 400\"\n          name=\"description\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a description for your listing!'\n            }\n          ]}\n        >\n          <Input.TextArea\n            rows={3}\n            maxLength={400}\n            placeholder=\"Modern, clean, and iconic home of the Fresh Prince. Situated in the heart of Bel-Air, Los Angeles\"\n          />\n        </Item>\n\n        <Item\n          label=\"Address\"\n          name=\"address\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter an address for your listing!'\n            }\n          ]}\n        >\n          <Input placeholder=\"251 North Bristol Avenue\" />\n        </Item>\n\n        <Item\n          label=\"City/Town\"\n          name=\"city\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a city (or region) for your listing!'\n            }\n          ]}\n        >\n          <Input placeholder=\"Los Angeles\" />\n        </Item>\n\n        <Item\n          label=\"State/Province\"\n          name=\"state\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a state for your listing!'\n            }\n          ]}\n        >\n          <Input placeholder=\"California\" />\n        </Item>\n\n        <Item\n          label=\"Zip/Postal Code\"\n          name=\"postalCode\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a zip code for your listing!'\n            }\n          ]}\n        >\n          <Input placeholder=\"Please enter a zip code for your listing!\" />\n        </Item>\n\n        <Item\n          label=\"Image\"\n          extra=\"Images must be under 1MB in size and of type JPG or PNG\"\n          name=\"image\"\n          rules={[\n            {\n              required: true,\n              message: 'Please provide an image for your listing!'\n            }\n          ]}\n        >\n          <div className=\"host__form-image-upload\">\n            <Upload\n              name=\"image\"\n              listType=\"picture-card\"\n              showUploadList={false}\n              // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n              action=\"/statusDone\"\n              beforeUpload={beforeImageUpload}\n              onChange={handleImageUpload}\n            >\n              {imageBase64Value ? (\n                <img src={imageBase64Value} alt=\"Listing\" />\n              ) : (\n                <div>\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\n                  <div className=\"ant-upload-text\">Upload</div>\n                </div>\n              )}\n            </Upload>\n          </div>\n        </Item>\n\n        <Item\n          label=\"Price\"\n          extra=\"Ths price in $USD/day\"\n          name=\"price\"\n          rules={[\n            {\n              required: true,\n              message: 'Please enter a price for your listing!'\n            }\n          ]}\n        >\n          <InputNumber min={0} placeholder=\"120\" />\n        </Item>\n\n        <Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Item>\n      </Form>\n    </Content>\n  );\n};\n\nconst beforeImageUpload = (file: File): boolean => {\n  const fileIsValidImage =\n    file.type === 'image/jpeg' || file.type === 'image/png';\n\n  const fileIsValidSize = file.size / 1024 / 1024 < 1;\n\n  if (!fileIsValidImage) {\n    displayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\n    return false;\n  }\n\n  if (!fileIsValidSize) {\n    displayErrorMessage(\n      \"You're only able to upload valid image files of under 1MB in size!\"\n    );\n    return false;\n  }\n\n  return fileIsValidImage && fileIsValidSize;\n};\n\nconst getBase64Value = (\n  img: File | Blob,\n  callback: (imageBase64Value: string) => void\n) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(img);\n  reader.onload = () => {\n    callback(reader.result as string);\n  };\n};\n","import React, { FC } from 'react';\nimport { Avatar, Divider, Tag, Typography } from 'antd';\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\nimport { EnvironmentOutlined } from '@ant-design/icons';\nimport { iconColor } from '../../../../lib/utils';\nimport { Link } from 'react-router-dom';\n\nconst { Paragraph, Title } = Typography;\n\ninterface Props {\n  listing: ListingData['listing'];\n}\n\nexport const ListingDetails: FC<Props> = ({ listing }) => {\n  const { title, description, image, type, address, city, numOfGuests, host } =\n    listing;\n\n  return (\n    <div className=\"listing-details\">\n      <div\n        style={{ backgroundImage: `url(${image})` }}\n        className=\"listing-details__image\"\n      />\n\n      <div className=\"listing-details__information\">\n        <Paragraph\n          type=\"secondary\"\n          ellipsis\n          className=\"listing-details__city-address\"\n        >\n          <Link to={`/listings/${city}`}>\n            <EnvironmentOutlined style={{ color: iconColor }} /> {city}\n          </Link>\n          <Divider type=\"vertical\" />\n          {address}\n        </Paragraph>\n        <Title level={3} className=\"listing-details__title\">\n          {title}\n        </Title>\n      </div>\n\n      <Divider />\n\n      <div className=\"listing-details__section\">\n        <Link to={`/user/${host.id}`}>\n          <Avatar src={host.avatar} size={64} />\n          <Title level={2} className=\"listing-details__host-name\">\n            {host.name}\n          </Title>\n        </Link>\n      </div>\n\n      <Divider />\n\n      <div className=\"listing-details__section\">\n        <Title level={4}>About this space</Title>\n        <div className=\"listing-details__about-items\">\n          <Tag color=\"magenta\">{type}</Tag>\n          <Tag color=\"magenta\">{numOfGuests}</Tag>\n        </div>\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\n          {description}\n        </Paragraph>\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Avatar, Divider, List, Typography } from 'antd';\nimport { Listing } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\nimport { Link } from 'react-router-dom';\n\ninterface Props {\n  listingBookings: Listing['listing']['bookings'];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Text, Title } = Typography;\n\nexport const ListingBookings: FC<Props> = ({\n  listingBookings,\n  bookingsPage,\n  limit,\n  setBookingsPage\n}) => {\n  const total = listingBookings ? listingBookings.total : null;\n  const result = listingBookings ? listingBookings.result : null;\n\n  const listingBookingsList = listingBookings ? (\n    <List\n      grid={{\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 3\n      }}\n      dataSource={result ? result : undefined}\n      locale={{ emptyText: 'No bookings have been made yet!' }}\n      pagination={{\n        current: bookingsPage,\n        total: total ? total : undefined,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page)\n      }}\n      renderItem={listingBooking => {\n        const bookingHistory = (\n          <div className=\"listing-bookings__history\">\n            <div>\n              Check in: <Text strong>{listingBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{listingBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n        return (\n          <List.Item className=\"listing-bookings__item\">\n            {bookingHistory}\n            <Link to={`/user/${listingBooking.tenant.id}`}>\n              <Avatar\n                src={listingBooking.tenant.avatar}\n                size={64}\n                shape=\"square\"\n              />\n            </Link>\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  const listingBookingsElement = listingBookingsList ? (\n    <div className=\"listing-bookings\">\n      <Divider />\n      <div className=\"listing-bookings__section\">\n        <Title level={4} className=\"listing-bookings__title\">\n          Bookings\n        </Title>\n      </div>\n      {listingBookingsList}\n    </div>\n  ) : null;\n\n  return listingBookingsElement;\n};\n","import React, { FC } from 'react';\nimport { Card, Divider, Typography, Button, DatePicker, Tooltip } from 'antd';\nimport moment, { Moment } from 'moment';\nimport { displayErrorMessage, formatListingPrice } from '../../../../lib/utils';\nimport { Viewer } from '../../../../lib/types';\nimport { Listing as ListingData } from '../../../../lib/graphql/queries/Listing/__generated__/Listing';\nimport { BookingsIndex } from './types';\n\nconst { Paragraph, Title, Text } = Typography;\n\ninterface Props {\n  viewer: Viewer;\n  host: ListingData['listing']['host'];\n  price: number;\n  bookingsIndex: ListingData['listing']['bookingsIndex'];\n  checkInDate: Moment | null;\n  checkOutDate: Moment | null;\n  setCheckInDate: (checkInDate: Moment | null) => void;\n  setCheckOutDate: (checkInDate: Moment | null) => void;\n  setModalVisible: (modalVisible: boolean) => void;\n}\n\nexport const ListingCreateBooking: FC<Props> = ({\n  viewer,\n  host,\n  price,\n  bookingsIndex,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  setModalVisible\n}) => {\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\n\n  const dateIsBooked = (currentDate: Moment) => {\n    const year = moment(currentDate).year();\n    const month = moment(currentDate).month();\n    const day = moment(currentDate).date();\n\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\n      return Boolean(bookingsIndexJSON[year][month][day]);\n    }\n\n    return false;\n  };\n\n  const disabledDate = (currentDate?: Moment) => {\n    if (!currentDate) {\n      return false;\n    }\n\n    const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf('day'));\n    const dateIsMoreThanThreeMonthsAhead = moment(currentDate).isAfter(\n      moment().endOf('day').add(90, 'days')\n    );\n\n    return (\n      dateIsBeforeEndOfDay ||\n      dateIsMoreThanThreeMonthsAhead ||\n      dateIsBooked(currentDate)\n    );\n  };\n\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\n    if (checkInDate && selectedCheckOutDate) {\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, 'days')) {\n        return displayErrorMessage(\n          \"You can't book a check-out date that is prior to a check-in date!\"\n        );\n      }\n\n      let dateCursor = checkInDate;\n      while (moment(dateCursor).isBefore(selectedCheckOutDate, 'days')) {\n        dateCursor = moment(dateCursor).add(1, 'days');\n\n        const year = moment(dateCursor).year();\n        const month = moment(dateCursor).month();\n        const day = moment(dateCursor).date();\n\n        if (\n          bookingsIndexJSON[year] &&\n          bookingsIndexJSON[year][month] &&\n          bookingsIndexJSON[year][month][day]\n        ) {\n          return displayErrorMessage(\n            \"You can't book a period of time that overlaps existing bookings. Please try again!\"\n          );\n        }\n      }\n    }\n\n    setCheckOutDate(selectedCheckOutDate);\n  };\n\n  const viewerIsHost = viewer.id === host.id;\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\n  const buttonDisabled = checkOutInputDisabled || !checkInDate || !checkOutDate;\n\n  let buttonMessage = \"You won't be charged yet\";\n  if (!viewer.id) {\n    buttonMessage = 'You have to be signed in to book a listing!';\n  } else if (viewerIsHost) {\n    buttonMessage = \"You can't book your own listing!\";\n  } else if (!host.hasWallet) {\n    buttonMessage =\n      \"The host has disconnected from Stripe and thus won't be able to receive payments\";\n  }\n\n  return (\n    <div className=\"listing-booking\">\n      <Card className=\"listing-booking__card\">\n        <div>\n          <Paragraph>\n            <Title level={2} className=\"listing-booking__card-title\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n          </Paragraph>\n          <Divider />\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check In</Paragraph>\n            <DatePicker\n              value={checkInDate ? checkInDate : undefined}\n              format=\"YYYY/MM/DD\"\n              showToday={false}\n              disabled={checkInInputDisabled}\n              disabledDate={disabledDate}\n              onChange={dateValue => setCheckInDate(dateValue)}\n              onOpenChange={() => setCheckOutDate(null)}\n              renderExtraFooter={() => {\n                return (\n                  <div>\n                    <Text type=\"secondary\" className=\"ant-calendar-footer-text\">\n                      You can only book a listing within 90 days from today.\n                    </Text>\n                  </div>\n                );\n              }}\n            />\n          </div>\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check Out</Paragraph>\n            <DatePicker\n              value={checkOutDate ? checkOutDate : undefined}\n              format=\"YYYY/MM/DD\"\n              showToday={false}\n              disabled={checkOutInputDisabled}\n              disabledDate={disabledDate}\n              onChange={dateValue => verifyAndSetCheckOutDate(dateValue)}\n              dateRender={current => {\n                if (\n                  moment(current).isSame(\n                    checkInDate ? checkInDate : undefined,\n                    'day'\n                  )\n                ) {\n                  return (\n                    <Tooltip title=\"Check-in date\">\n                      <div className=\"ant-calendar-date ant-calendar-date__check-in\">\n                        {current.date()}\n                      </div>\n                    </Tooltip>\n                  );\n                } else {\n                  return (\n                    <div className=\"ant-calendar-date\">{current.date()}</div>\n                  );\n                }\n              }}\n              renderExtraFooter={() => {\n                return (\n                  <div>\n                    <Text type=\"secondary\" className=\"ant-calendar-footer-text\">\n                      Check-out cannot be before check-in.\n                    </Text>\n                  </div>\n                );\n              }}\n            />\n          </div>\n        </div>\n        <Divider />\n        <Button\n          size=\"large\"\n          type=\"primary\"\n          className=\"listing-booking__card-cta\"\n          disabled={buttonDisabled}\n          onClick={() => setModalVisible(true)}\n        >\n          Request to book!\n        </Button>\n        <Text type=\"secondary\" mark>\n          {buttonMessage}\n        </Text>\n      </Card>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Modal, Button, Divider, Typography } from 'antd';\nimport { KeyOutlined } from '@ant-design/icons';\nimport moment, { Moment } from 'moment';\nimport {\n  CardElement,\n  injectStripe,\n  ReactStripeElements\n} from 'react-stripe-elements';\nimport {\n  displayErrorMessage,\n  displaySuccessNotification,\n  formatListingPrice\n} from '../../../../lib/utils';\nimport { CREATE_BOOKING } from '../../../../lib/graphql/mutations';\nimport {\n  CreateBooking as CreateBookingData,\n  CreateBookingVariables\n} from '../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking';\nimport { useMutation } from 'react-apollo';\n\ninterface Props {\n  id: string;\n  price: number;\n  checkInDate: Moment;\n  checkOutDate: Moment;\n  modalVisible: boolean;\n  setModalVisible: (modalVisible: boolean) => void;\n  clearBookingData: () => void;\n  handleListingRefetch: () => Promise<void>;\n}\n\nconst { Paragraph, Title, Text } = Typography;\n\nexport const ListingCreateBookingModal: FC<\n  Props & ReactStripeElements.InjectedStripeProps\n> = ({\n  id,\n  price,\n  checkInDate,\n  checkOutDate,\n  modalVisible,\n  setModalVisible,\n  clearBookingData,\n  handleListingRefetch,\n  stripe\n}) => {\n  const [createBooking, { loading }] = useMutation<\n    CreateBookingData,\n    CreateBookingVariables\n  >(CREATE_BOOKING, {\n    onCompleted: () => {\n      clearBookingData();\n      displaySuccessNotification(\n        \"You've successfully booked the listing!\",\n        'Booking history can always be found in your User page.'\n      );\n      handleListingRefetch();\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to successfully book the listing. Please try again later!\"\n      );\n    }\n  });\n\n  const daysBooked = checkOutDate.diff(checkInDate, 'days') + 1;\n  const listingPrice = price * daysBooked;\n\n  const handleCreateBooking = async () => {\n    if (!stripe) {\n      return displayErrorMessage(\n        \"Sorry! We weren't able to connect with Stripe.\"\n      );\n    }\n\n    const { token: stripeToken, error } = await stripe.createToken();\n    if (stripeToken) {\n      createBooking({\n        variables: {\n          input: {\n            id,\n            source: stripeToken.id,\n            checkIn: moment(checkInDate).format('YYYY-MM-DD'),\n            checkOut: moment(checkOutDate).format('YYYY-MM-DD')\n          }\n        }\n      });\n    } else {\n      displayErrorMessage(\n        error && error.message\n          ? error.message\n          : \"Sorry! We weren't able to book the listing. Please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <Modal\n      visible={modalVisible}\n      centered\n      footer={null}\n      onCancel={() => setModalVisible(false)}\n    >\n      <div className=\"listing-booking-modal\">\n        <div className=\"listing-booking-modal__intro\">\n          <Title className=\"listing-booking-modal__intro-title\">\n            <KeyOutlined />\n          </Title>\n          <Title level={3} className=\"listing-booking-modal__intro-title\">\n            Book your trip\n          </Title>\n          <Paragraph>\n            Enter your payment information to book the listing for the dates\n            between{' '}\n            <Text strong mark>\n              {moment(checkInDate).format('MMMM Do YYYY')}\n            </Text>{' '}\n            and{' '}\n            <Text strong mark>\n              {moment(checkOutDate).format('MMMM Do YYYY')}\n            </Text>\n            , inclusive.\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__charge-summary\">\n          <Paragraph>\n            {formatListingPrice(price, false)} * {daysBooked}{' '}\n            {daysBooked === 1 ? 'day' : 'days'} ={' '}\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n          <Paragraph className=\"listing-booking-modal__charge-summary-total\">\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n        </div>\n        <Divider />\n        <div className=\"listing-booking-modal__stripe-card-selection\">\n          <CardElement\n            hidePostalCode\n            className=\"listing-booking-modal__stripe-card\"\n          />\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            loading={loading}\n            className=\"listing-booking-modal__cta\"\n            onClick={handleCreateBooking}\n          >\n            Book\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport const WrappedListingCreateBookingModal = injectStripe(\n  ListingCreateBookingModal\n);\n","import React, { FC, useState } from 'react';\nimport { useQuery } from 'react-apollo';\nimport { useParams } from 'react-router';\nimport { Col, Layout, Row } from 'antd';\nimport { Moment } from 'moment';\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\nimport { LISTING } from '../../lib/graphql/queries';\nimport {\n  Listing as ListingData,\n  ListingVariables\n} from '../../lib/graphql/queries/Listing/__generated__/Listing';\nimport {\n  ListingBookings,\n  ListingCreateBooking,\n  WrappedListingCreateBookingModal as ListingCreateBookingModal,\n  ListingDetails\n} from './components';\nimport { Viewer } from '../../lib/types';\nimport { useScrollToTop } from '../../lib/hooks';\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst { Content } = Layout;\n\nconst PAGE_LIMIT = 3;\n\nexport const Listing: FC<Props> = ({ viewer }) => {\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null);\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const { id } = useParams();\n\n  const { loading, data, error, refetch } = useQuery<\n    ListingData,\n    ListingVariables\n  >(LISTING, {\n    variables: {\n      id: id ?? '',\n      bookingsPage,\n      limit: PAGE_LIMIT\n    }\n  });\n\n  const clearBookingData = () => {\n    setModalVisible(false);\n    setCheckInDate(null);\n    setCheckOutDate(null);\n  };\n\n  const handleListingRefetch = async () => {\n    await refetch();\n  };\n\n  useScrollToTop();\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listings\">\n        <ErrorBanner description=\"This listing may not exist or we've encountered an error. Please try again soon.\" />\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  const listingBookings = data?.listing?.bookings ?? null;\n\n  const listingDetailsElement = data?.listing ? (\n    <ListingDetails listing={data.listing} />\n  ) : null;\n\n  const listingBookingsElement = listingBookings ? (\n    <ListingBookings\n      listingBookings={listingBookings}\n      bookingsPage={bookingsPage}\n      limit={PAGE_LIMIT}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  const listingCreateBookingElement = data?.listing ? (\n    <ListingCreateBooking\n      viewer={viewer}\n      host={data.listing.host}\n      price={data.listing.price}\n      bookingsIndex={data.listing.bookingsIndex}\n      checkInDate={checkInDate}\n      checkOutDate={checkOutDate}\n      setCheckInDate={setCheckInDate}\n      setCheckOutDate={setCheckOutDate}\n      setModalVisible={setModalVisible}\n    />\n  ) : null;\n\n  const listingCreateBookingModalElement =\n    data?.listing && checkInDate && checkOutDate ? (\n      <ListingCreateBookingModal\n        id={data.listing.id}\n        clearBookingData={clearBookingData}\n        handleListingRefetch={handleListingRefetch}\n        price={data.listing.price}\n        checkInDate={checkInDate}\n        checkOutDate={checkOutDate}\n        modalVisible={modalVisible}\n        setModalVisible={setModalVisible}\n      />\n    ) : null;\n\n  return (\n    <Content className=\"listings\">\n      <Row gutter={24} justify=\"space-between\">\n        <Col xs={24} lg={14}>\n          {listingDetailsElement}\n          {listingBookingsElement}\n        </Col>\n        <Col xs={24} lg={10}>\n          {listingCreateBookingElement}\n        </Col>\n      </Row>\n      {listingCreateBookingModalElement}\n    </Content>\n  );\n};\n","import React, { FC } from 'react';\nimport { Select } from 'antd';\nimport { ListingsFilter } from '../../../../lib/graphql/globalTypes';\n\ninterface Props {\n  filter: ListingsFilter;\n  setFilter: (filter: ListingsFilter) => void;\n}\n\nconst { Option } = Select;\n\nexport const ListingsFilters: FC<Props> = ({ filter, setFilter }) => {\n  return (\n    <div className=\"listings-filters\">\n      <span>Filter By</span>\n      <Select\n        value={filter}\n        onChange={(filter: ListingsFilter) => setFilter(filter)}\n      >\n        <Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>\n          Price: Low to High\n        </Option>\n        <Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>\n          Price: High to Low\n        </Option>\n      </Select>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Pagination } from 'antd';\n\ninterface Props {\n  total: number;\n  page: number;\n  limit: number;\n  setPage: (page: number) => void;\n}\n\nexport const ListingsPagination: FC<Props> = ({\n  total,\n  page,\n  limit,\n  setPage\n}) => {\n  return (\n    <Pagination\n      current={page}\n      total={total}\n      defaultPageSize={limit}\n      hideOnSinglePage\n      showLessItems\n      onChange={(page: number) => setPage(page)}\n      className=\"listings-pagination\"\n    />\n  );\n};\n","import React from 'react';\nimport { List, Card, Skeleton } from 'antd';\n\nimport listingLoadingCardCover from '../../assets/listing-loading-card-cover.jpeg';\n\nexport const ListingsSkeleton = () => {\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}];\n\n  return (\n    <div>\n      <Skeleton paragraph={{ rows: 1 }} />\n      <List\n        grid={{\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4\n        }}\n        dataSource={emptyData}\n        renderItem={listing => (\n          <List.Item>\n            <Card\n              cover={\n                <img\n                  src={listingLoadingCardCover}\n                  className=\"listings-skeleton__card-cover-img\"\n                ></img>\n              }\n              loading\n              className=\"listings-skeleton__card\"\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import React, { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport { useQuery } from 'react-apollo';\nimport { Affix, Layout, List, Typography } from 'antd';\nimport { ErrorBanner, ListingCard } from '../../lib/components';\nimport { LISTINGS } from '../../lib/graphql/queries';\nimport {\n  Listings as ListingsData,\n  ListingsVariables\n} from '../../lib/graphql/queries/Listings/__generated__/Listings';\nimport { ListingsFilter } from '../../lib/graphql/globalTypes';\nimport {\n  ListingsFilters,\n  ListingsPagination,\n  ListingsSkeleton\n} from './components';\nimport { useScrollToTop } from '../../lib/hooks';\n\nconst { Content } = Layout;\nconst { Paragraph, Text, Title } = Typography;\n\nconst PAGE_LIMIT = 8;\n\nexport const Listings = () => {\n  const params = useParams();\n  const locationRef = useRef(params.location);\n  const [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH);\n  const [page, setPage] = useState(1);\n\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(\n    LISTINGS,\n    {\n      skip: locationRef.current !== params.location && page !== 1,\n      variables: {\n        location: params.location,\n        filter,\n        limit: PAGE_LIMIT,\n        page\n      }\n    }\n  );\n\n  useScrollToTop();\n\n  useEffect(() => {\n    setPage(1);\n    locationRef.current = params.location;\n  }, [params.location]);\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listings\">\n        <ErrorBanner description=\"We either couldn't find anything matching your search, or have encountered an error. If you're searching for a unique location, try searching again with more common keywords.\" />\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  const listings = data ? data.listings : null;\n  const listingsRegion = listings ? listings.region : null;\n\n  const listingsSectionElement =\n    listings && listings.result.length ? (\n      <div>\n        <Affix offsetTop={64}>\n          <ListingsPagination\n            total={listings.total}\n            page={page}\n            limit={PAGE_LIMIT}\n            setPage={setPage}\n          />\n          <ListingsFilters filter={filter} setFilter={setFilter} />\n        </Affix>\n        <List\n          grid={{\n            gutter: 8,\n            xs: 1,\n            sm: 2,\n            lg: 4\n          }}\n          dataSource={listings.result}\n          renderItem={listing => (\n            <List.Item>\n              <ListingCard listing={listing} />\n            </List.Item>\n          )}\n        />\n      </div>\n    ) : (\n      <div>\n        <Paragraph>\n          It appears that no listings have been created for{' '}\n          <Text mark>\"{listingsRegion}\"</Text>\n        </Paragraph>\n        <Paragraph>\n          Be the first person to create a{' '}\n          <Link to=\"/host\">listing in this area!</Link>\n        </Paragraph>\n      </div>\n    );\n\n  const listingsRegionElement = listingsRegion ? (\n    <Title level={3} className=\"listings__title\">\n      Results for \"{listingsRegion}\"\n    </Title>\n  ) : null;\n\n  return (\n    <Content className=\"listings\">\n      {listingsRegionElement}\n      {listingsSectionElement}\n    </Content>\n  );\n};\n","import React, { Fragment } from 'react';\nimport { Empty, Layout, Typography } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { useScrollToTop } from '../../lib/hooks';\n\nconst { Content } = Layout;\nconst { Text } = Typography;\n\nexport const NotFound = () => {\n  useScrollToTop();\n\n  return (\n    <Content className=\"not-found\">\n      <Empty\n        description={\n          <Fragment>\n            <Text className=\"not-found__description-title\">\n              Something went wrong :(\n            </Text>\n            <Text className=\"not-found__description-subtitle\">\n              The page you're looking for can't be found\n            </Text>\n          </Fragment>\n        }\n      />\n      <Link\n        to=\"/\"\n        className=\"not-found__cta ant-btn ant-btn-primary ant-btn-lg\"\n      >\n        Home\n      </Link>\n    </Content>\n  );\n};\n","import { Avatar, Button, Card, Divider, Typography, Tag } from 'antd';\nimport React, { FC, Fragment } from 'react';\nimport { useMutation } from 'react-apollo';\nimport { DISCONNECT_STRIPE } from '../../../../lib/graphql/mutations';\nimport { DisconnectStripe as DisconnectStripeData } from '../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe';\nimport { User as UserData } from '../../../../lib/graphql/queries/User/__generated__/User';\nimport { Viewer } from '../../../../lib/types';\nimport {\n  displayErrorMessage,\n  displaySuccessNotification,\n  formatListingPrice\n} from '../../../../lib/utils';\n\ninterface Props {\n  user: UserData['user'];\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n  viewerIsUser: boolean;\n  handleUserRefetch: () => void;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst STRIPE_AUTH_URL = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_S_CLIENT_ID}&scope=read_write`;\n\nexport const UserProfile: FC<Props> = ({\n  user,\n  viewer,\n  setViewer,\n  viewerIsUser,\n  handleUserRefetch\n}) => {\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(\n    DISCONNECT_STRIPE,\n    {\n      onCompleted: data => {\n        if (data && data.disconnectStripe) {\n          setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\n          displaySuccessNotification(\n            \"You've successfully disconnected from Stripe!\",\n            \"You'll have to reconnect with Stripe to continue to create listings.\"\n          );\n          handleUserRefetch();\n        }\n      },\n      onError: () => {\n        displayErrorMessage(\n          \"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\"\n        );\n      }\n    }\n  );\n\n  const redirectToStripe = () => {\n    window.location.href = STRIPE_AUTH_URL;\n  };\n\n  const additionalDetails = user.hasWallet ? (\n    <Fragment>\n      <Paragraph>\n        <Tag color=\"green\">Stripe Registered</Tag>\n      </Paragraph>\n      <Paragraph>\n        Income Earned:{' '}\n        <Text strong>\n          {user.income ? formatListingPrice(user.income) : '$0'}\n        </Text>\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        loading={loading}\n        onClick={() => disconnectStripe()}\n      >\n        Disonnect Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        By disconnecting, you won't be able to receive{' '}\n        <Text strong> any further payments.</Text> This will prevent users from\n        booking listings that you might have already created.\n      </Paragraph>\n    </Fragment>\n  ) : (\n    <Fragment>\n      <Paragraph>\n        Interested in becoming a TinyHouse host? Register with your Stripe\n        account!\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        onClick={redirectToStripe}\n      >\n        Connect with Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        TinyHouse uses{' '}\n        <a\n          href=\"https://stripe.com/en-US/connect\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Stripe\n        </a>{' '}\n        to help transfer your earnings in a secure and trusted manner.\n      </Paragraph>\n    </Fragment>\n  );\n\n  const additionalDetailsSection = viewerIsUser ? (\n    <Fragment>\n      <Divider />\n      <div className=\"user-profile__details\">\n        <Title level={4}>Additional Details</Title>\n        {additionalDetails}\n      </div>\n    </Fragment>\n  ) : null;\n\n  return (\n    <div className=\"user-profile\">\n      <Card className=\"user-profile__card\">\n        <div className=\"user-profile__avatar\">\n          <Avatar size={100} src={user.avatar} />\n        </div>\n        <Divider />\n        <div className=\"user-profile__details\">\n          <Title level={4}>Details</Title>\n          <Paragraph>\n            Name: <Text strong>{user.name}</Text>\n          </Paragraph>\n          <Paragraph>\n            Contact: <Text strong>{user.contact}</Text>\n          </Paragraph>\n        </div>\n        {additionalDetailsSection}\n      </Card>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { List, Typography } from 'antd';\nimport { ListingCard } from '../../../../lib/components';\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\n\ninterface Props {\n  userBookings: User['user']['bookings'];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nexport const UserBookings: FC<Props> = ({\n  userBookings,\n  bookingsPage,\n  limit,\n  setBookingsPage\n}) => {\n  const total = userBookings ? userBookings.total : null;\n  const result = userBookings ? userBookings.result : null;\n\n  const userBookingsList = userBookings ? (\n    <List\n      grid={{\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 4\n      }}\n      dataSource={result ? result : undefined}\n      locale={{ emptyText: \"You haven't made any bookings!\" }}\n      pagination={{\n        position: 'top',\n        current: bookingsPage,\n        total: total ? total : undefined,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page)\n      }}\n      renderItem={userBooking => {\n        const bookingHistory = (\n          <div className=\"user-bookings__booking-history\">\n            <div>\n              Check in: <Text strong>{userBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{userBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n        return (\n          <List.Item>\n            {bookingHistory}\n            <ListingCard listing={userBooking.listing} />\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  const userBookingsElement = userBookingsList ? (\n    <div className=\"user-bookings\">\n      <Title level={4} className=\"user-bookings__title\">\n        Bookings\n      </Title>\n      <Paragraph className=\"user-bookings__description\">\n        This section highlights the bookings you've made, and the\n        check-in/check-out dates associated with those bookings.\n      </Paragraph>\n      {userBookingsList}\n    </div>\n  ) : null;\n\n  return userBookingsElement;\n};\n","import React, { FC } from 'react';\nimport { List, Typography } from 'antd';\nimport { ListingCard } from '../../../../lib/components';\nimport { User } from '../../../../lib/graphql/queries/User/__generated__/User';\n\ninterface Props {\n  userListings: User['user']['listings'];\n  listingsPage: number;\n  limit: number;\n  setListingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Title } = Typography;\n\nexport const UserListings: FC<Props> = ({\n  userListings,\n  listingsPage,\n  limit,\n  setListingsPage\n}) => {\n  const { total, result } = userListings;\n  const userListingsList = (\n    <List\n      grid={{\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 4\n      }}\n      dataSource={result}\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\n      pagination={{\n        position: 'top',\n        current: listingsPage,\n        total,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setListingsPage(page)\n      }}\n      renderItem={userListing => (\n        <List.Item>\n          <ListingCard listing={userListing} />\n        </List.Item>\n      )}\n    />\n  );\n\n  return (\n    <div className=\"user-listings\">\n      <Title level={4} className=\"user-listings__title\">\n        Listings\n      </Title>\n      <Paragraph className=\"user-listings__description\">\n        This section highlights the listings this user currently hosts and has\n        made available for bookings.\n      </Paragraph>\n      {userListingsList}\n    </div>\n  );\n};\n","import { Col, Layout, Row } from 'antd';\nimport React, { FC, useState } from 'react';\nimport { useQuery } from 'react-apollo';\nimport { useParams } from 'react-router';\nimport { ErrorBanner, PageSkeleton } from '../../lib/components';\nimport { USER } from '../../lib/graphql/queries';\nimport {\n  User as UserData,\n  UserVariables\n} from '../../lib/graphql/queries/User/__generated__/User';\nimport { useScrollToTop } from '../../lib/hooks';\nimport { Viewer } from '../../lib/types';\nimport { UserBookings, UserListings, UserProfile } from './components';\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\nconst PAGE_LIMIT = 4;\n\nexport const User: FC<Props> = ({ viewer, setViewer }) => {\n  const [listingsPage, setListingsPage] = useState(1);\n  const [bookingsPage, setBookingsPage] = useState(1);\n\n  const params = useParams();\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(\n    USER,\n    {\n      variables: {\n        id: params.id!,\n        bookingsPage,\n        listingsPage,\n        limit: PAGE_LIMIT\n      },\n      fetchPolicy: 'cache-and-network'\n    }\n  );\n\n  const handleUserRefetch = async () => {\n    await refetch();\n  };\n\n  const stripeError = new URL(window.location.href).searchParams.get(\n    'stripe_error'\n  );\n  const stripeErrorBanner = stripeError ? (\n    <ErrorBanner description=\"We had an issue connecting with Stripe. Please try again soon.\" />\n  ) : null;\n\n  useScrollToTop();\n\n  if (loading) {\n    return (\n      <Content className=\"user\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"user\">\n        <ErrorBanner description=\"This user may not exist or we've encountered an error. Please try again later.\" />\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  const user = data ? data.user : null;\n  const viewerIsUser = viewer.id === params.id;\n\n  const userListings = user ? user.listings : null;\n  const userBookings = user ? user.bookings : null;\n\n  const userProfileElement = user ? (\n    <UserProfile\n      user={user}\n      viewerIsUser={viewerIsUser}\n      viewer={viewer}\n      setViewer={setViewer}\n      handleUserRefetch={handleUserRefetch}\n    />\n  ) : null;\n\n  const userListingsElement = userListings ? (\n    <UserListings\n      userListings={userListings}\n      listingsPage={listingsPage}\n      limit={PAGE_LIMIT}\n      setListingsPage={setListingsPage}\n    />\n  ) : null;\n\n  const userBookingsElement = userBookings ? (\n    <UserBookings\n      userBookings={userBookings}\n      bookingsPage={bookingsPage}\n      limit={PAGE_LIMIT}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  return (\n    <Content className=\"user\">\n      {stripeErrorBanner}\n      <Row gutter={12} justify=\"space-between\">\n        <Col xs={24}>{userProfileElement}</Col>\n        <Col xs={24}>\n          {userListingsElement}\n          {userBookingsElement}\n        </Col>\n      </Row>\n    </Content>\n  );\n};\n","import { Card, Layout, Spin, Typography } from 'antd';\nimport React, { FC, useEffect, useRef } from 'react';\nimport { useApolloClient, useMutation } from 'react-apollo';\nimport { Navigate } from 'react-router-dom';\nimport { ErrorBanner } from '../../lib/components';\nimport { LOG_IN } from '../../lib/graphql/mutations';\nimport {\n  LogIn as LogInData,\n  LogInVariables\n} from '../../lib/graphql/mutations/LogIn/__generated__/LogIn';\nimport { AUTH_URL } from '../../lib/graphql/queries/AuthUrl';\nimport { AuthUrl as AuthUrlData } from '../../lib/graphql/queries/AuthUrl/__generated__/AuthUrl';\nimport { useScrollToTop } from '../../lib/hooks';\nimport { Viewer } from '../../lib/types';\nimport {\n  displayErrorMessage,\n  displaySuccessNotification\n} from '../../lib/utils';\nimport googleLogo from './assets/google_logo.png';\n\ninterface Props {\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\n\nexport const Login: FC<Props> = ({ setViewer }) => {\n  const client = useApolloClient();\n  const [logIn, { data: logInData, loading: logInLoading, error: logInError }] =\n    useMutation<LogInData, LogInVariables>(LOG_IN, {\n      onCompleted: data => {\n        if (data && data.logIn && data.logIn.token) {\n          setViewer(data.logIn);\n          sessionStorage.setItem('token', data.logIn.token);\n          displaySuccessNotification(\"You've successfully logged in!\");\n        }\n      }\n    });\n  const logInRef = useRef(logIn);\n\n  useScrollToTop();\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get('code');\n\n    if (code) {\n      logInRef.current({\n        variables: {\n          input: { code }\n        }\n      });\n    }\n  }, []);\n\n  const handleAuthorize = async () => {\n    try {\n      const { data } = await client.query<AuthUrlData>({ query: AUTH_URL });\n      window.location.href = data.authUrl;\n    } catch (error) {\n      displayErrorMessage(\n        \"Sorry! We weren't able to log you in. Please try again later.\"\n      );\n    }\n  };\n\n  if (logInLoading) {\n    return (\n      <Content className=\"log-in\">\n        <Spin size=\"large\" tip=\"Logging you in...\" />\n      </Content>\n    );\n  }\n\n  if (logInData && logInData.logIn) {\n    const { id: viewerId } = logInData.logIn;\n    return <Navigate to={`/user/${viewerId}`} />;\n  }\n\n  const logInErrorBannerElement = logInError ? (\n    <ErrorBanner description=\"Sorry! We weren't able to log you in. Please try again later.\" />\n  ) : null;\n\n  return (\n    <Content className=\"log-in\">\n      {logInErrorBannerElement}\n      <Card className=\"log-in-card\">\n        <div className=\"log-in-card__intro\">\n          <Title level={3} className=\"log-in-card__intro-title\">\n            <span role=\"img\" aria-label=\"wave\">\n              👋\n            </span>\n          </Title>\n          <Title level={3} className=\"log-in-card__intro-title\">\n            Log in to TinyHouse!\n          </Title>\n          <Text>Sign in with Google to start booking available rentals!</Text>\n        </div>\n        <button\n          className=\"log-in-card__google-button\"\n          onClick={handleAuthorize}\n        >\n          <img\n            src={googleLogo}\n            alt=\"Google Logo\"\n            className=\"log-in-card__google-button-logo\"\n          />\n          <span className=\"log-in-card__google-button-text\">\n            Sign in with Google\n          </span>\n        </button>\n        <Text type=\"secondary\">\n          Note: By signing in, you'll be redirected to the Google consent form\n          to sign in with your Google account.\n        </Text>\n      </Card>\n    </Content>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, { FC, useEffect, useRef } from 'react';\nimport { useMutation } from 'react-apollo';\nimport { Layout, Spin } from 'antd';\nimport { CONNECT_STRIPE } from '../../lib/graphql/mutations';\nimport {\n  ConnectStripe as ConnectStripeData,\n  ConnectStripeVariables\n} from '../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe';\nimport { Navigate, useNavigate } from 'react-router';\nimport { Viewer } from '../../lib/types';\nimport { displaySuccessNotification } from '../../lib/utils';\nimport { useScrollToTop } from '../../lib/hooks';\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\n\nexport const Stripe: FC<Props> = ({ viewer, setViewer }) => {\n  const navigate = useNavigate();\n\n  const [connectStripe, { data, loading, error }] = useMutation<\n    ConnectStripeData,\n    ConnectStripeVariables\n  >(CONNECT_STRIPE, {\n    onCompleted: data => {\n      if (data && data.connectStripe) {\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\n        displaySuccessNotification(\n          \"You've successfully connected your Stripe account!\",\n          'You can now begin to create listings in the Host page.'\n        );\n      }\n    }\n  });\n\n  const connectStripeRef = useRef(connectStripe);\n\n  useScrollToTop();\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get('code');\n\n    if (code) {\n      connectStripeRef.current({\n        variables: {\n          input: { code }\n        }\n      });\n    } else {\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  if (data && data.connectStripe) {\n    return <Navigate to={`/user/${viewer.id}`} />;\n  }\n\n  if (loading) {\n    return (\n      <Content className=\"stripe\">\n        <Spin size=\"large\" tip=\"Connecting your Stripe account...\" />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return <Navigate to={`/user/${viewer.id}?stripe_error=true`} />;\n  }\n\n  return null;\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider, useMutation } from 'react-apollo';\nimport reportWebVitals from './reportWebVitals';\nimport { Affix, Layout, Spin } from 'antd';\nimport {\n  Home,\n  Host,\n  Listing,\n  Listings,\n  NotFound,\n  User,\n  Login,\n  AppHeader,\n  Stripe\n} from './sections';\nimport { Viewer } from './lib/types';\nimport { LOG_IN } from './lib/graphql/mutations';\nimport {\n  LogIn as LogInData,\n  LogInVariables\n} from './lib/graphql/mutations/LogIn/__generated__/LogIn';\nimport './styles/index.css';\nimport { AppHeaderSkeleton, ErrorBanner } from './lib/components';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport { useScrollToTop } from './lib/hooks';\n\nconst client = new ApolloClient({\n  uri: '/api',\n  request: async operation => {\n    const token = sessionStorage.getItem('token');\n    operation.setContext({\n      headers: {\n        'X-CSRF-TOKEN': token || ''\n      }\n    });\n  }\n});\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false\n};\n\nconst App = () => {\n  const [viewer, setViewer] = useState<Viewer>(initialViewer);\n  const [logIn, { error }] = useMutation<LogInData, LogInVariables>(LOG_IN, {\n    onCompleted: data => {\n      if (data && data.logIn) {\n        setViewer(data.logIn);\n\n        if (data.logIn.token) {\n          sessionStorage.setItem('token', data.logIn.token);\n        } else {\n          sessionStorage.removeItem('token');\n        }\n      }\n    }\n  });\n  const logInRef = useRef(logIn);\n\n  useScrollToTop();\n\n  useEffect(() => {\n    logInRef.current();\n  }, []);\n\n  if (!viewer.didRequest && !error) {\n    return (\n      <Layout className=\"app-skeleton\">\n        <AppHeaderSkeleton />\n        <div className=\"app-skeleton__spin-section\">\n          <Spin size=\"large\" tip=\"Launching Tinyhouse\" />\n        </div>\n      </Layout>\n    );\n  }\n\n  const logInErrorBannerElement = error ? (\n    <ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later.\" />\n  ) : null;\n\n  return (\n    <StripeProvider apiKey={process.env.REACT_APP_S_PUBLISHABLE_KEY as string}>\n      <Router>\n        <Layout id=\"app\">\n          {logInErrorBannerElement}\n          <Affix offsetTop={0} className=\"app__affix-header\">\n            <AppHeader viewer={viewer} setViewer={setViewer} />\n          </Affix>\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/host\" element={<Host viewer={viewer} />} />\n            <Route\n              path=\"/listing/:id\"\n              element={\n                <Elements>\n                  <Listing viewer={viewer} />\n                </Elements>\n              }\n            />\n            <Route path=\"/listings/:location\" element={<Listings />} />\n            <Route path=\"/listings\" element={<Listings />} />\n            <Route\n              path=\"/user/:id\"\n              element={<User viewer={viewer} setViewer={setViewer} />}\n            />\n            <Route path=\"/login\" element={<Login setViewer={setViewer} />} />\n            <Route\n              path=\"/stripe\"\n              element={<Stripe viewer={viewer} setViewer={setViewer} />}\n            />\n            <Route path=\"*\" element={<NotFound />} />\n          </Routes>\n        </Layout>\n      </Router>\n    </StripeProvider>\n  );\n};\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}